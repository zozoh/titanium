<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="renderer" content="webkit" />
  <meta name="force-rendering" content="webkit" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>${title}</title>
  <!--link rel="stylesheet" type="text/css"
        href="${rs}core/css/font-md/css/material-design-iconic-font.css"-->
  <script src="${rs}ti/deps/jquery.js"></script>
  <script src="${rs}ti/deps/lodash.min.js"></script>
  <script src="${rs}ti/deps/sortable.js"></script>
  <script src="${rs}ti/deps/vue.js"></script>
  <script src="${rs}ti/deps/vuex.js"></script>
  
  <link rel="stylesheet" href="${rs}ti/deps/md/iconfont/material-icons.css">
  <link rel="stylesheet" href="${rs}ti/deps/zmdi/css/material-design-iconic-font.css">
  <link rel="stylesheet" href="${rs}ti/deps/fontawesome/5.15.1-web/css/all.css">
  <link rel="stylesheet" href="${rs}ti/deps/iconmonstr/css/iconmonstr-iconic-font.css">

  <!--===========Theme============-->
  <link rel="stylesheet" href="${themeCss}">

  <!--===========Preload deps==========-->
  ${TiWebDeps?}
 
</head>
<body class="main-body">
<div id="app" class="app-loading">
  <i class="zmdi zmdi-settings zmdi-hc-spin"></i>
</div>
<script type="module">
import Ti from "${rs}${TiJs?ti/core/ti.mjs}";
import Wn from "${rs}${WnJs?ti/lib/walnut/walnut.mjs}";
//---------------------------------------
window._app = ${app(json:n)?-obj-};
//---------------------------------------
Ti.WalnutAppMain({
  rs:"${rs}",
  appName : "${appName}",
  debug: true,
  logging: {
    root: "warn",
    names: {
      "TiLoad"     : "warn",
      "TiApp"      : "warn",
      "TiHttp"     : "warn",
      "TiShortcut" : "warn",
      "Wn.Sys"     : "warn",
      "WnGui"      : "warn",
      "Wn.Dict"    : "warn"
    }
  },
  shortcute: true,
  viewport: true,
  theme: "${theme}",
  lang: _app.session.envs["LANG"] || "zh-cn",
  preloads: ${preloads(json:cqn)?-array-}
}).catch(err=>{
  throw err
})
//---------------------------------------
</script>
</body>
</html>