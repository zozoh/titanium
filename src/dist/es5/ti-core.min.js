"use strict";function _typeof(t){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _toArray(t){return _arrayWithHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableRest()}function _objectDestructuringEmpty(t){if(null==t)throw new TypeError("Cannot destructure undefined")}function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return _getRequireWildcardCache=function(){return t},t}function _interopRequireWildcard(t){if(t&&t.__esModule)return t;if(null===t||"object"!==_typeof(t)&&"function"!=typeof t)return{default:t};var e=_getRequireWildcardCache();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var a=r?Object.getOwnPropertyDescriptor(t,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){i=!0,a=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _createForOfIteratorHelper(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=_unsupportedIterableToArray(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,a=!0,o=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){o=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(o)throw i}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function asyncGeneratorStep(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function _asyncToGenerator(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){function a(t){asyncGeneratorStep(s,r,i,a,o,"next",t)}function o(t){asyncGeneratorStep(s,r,i,a,o,"throw",t)}var s=t.apply(e,n);a(void 0)})}}function Preload(t,e){LOAD_CACHE[t]=e}function AddResourcePrefix(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,i=e;r<i.length;r++){var a=i[r];a&&(a.endsWith("/")?RS_PREFIXs.push(a):RS_PREFIXs.push(a+"/"))}}function MatchCache(t){if(t){var e,n=_createForOfIteratorHelper(RS_PREFIXs);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r&&t.startsWith(r)){t=t.substring(r.length);break}}}catch(t){n.e(t)}finally{n.f()}return LOAD_CACHE[t]}}function _IS_LOG(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ROOT",e=arguments.length>1?arguments[1]:void 0,n=ENV.log[t];return _.isUndefined(n)&&(n=ENV.log.ROOT),n>=e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.Ti=void 0;var _ref=function(){function t(){return(t=_asyncToGenerator(regeneratorRuntime.mark(function t(){var e,n,r,i,a,o,s,u,c,l,f,h,d,v,p,g,m,_,y=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=y.length>0&&void 0!==y[0]?y[0]:"",n=y.length>1&&void 0!==y[1]?y[1]:{},r=n.title,i=n.icon,a=n.type,o=void 0===a?"track":a,s=n.textOk,u=void 0===s?"i18n:ok":s,c=n.position,l=void 0===c?"center":c,f=n.width,h=void 0===f?480:f,d=n.height,v=n.vars,p=void 0===v?{}:v,g=Ti.I18n.textf(e,p),m=i||Ti.Icons.get(o,"zmdi-info"),_=r||Ti.I18n.get(o),t.next=7,Ti.App.Open({type:o,width:h,height:d,position:l,title:_,closer:!1,actions:[{text:u,handler:function(){return!0}}],comType:"modal-inner-body",comConf:{icon:m,text:g},components:{name:"modal-inner-body",globally:!1,props:{icon:void 0,text:void 0},template:'<div class="ti-msg-body as-alert">\n          <div class="as-icon"><ti-icon :value="icon"/></div>\n          <div class="as-text">{{text}}</div>\n        </div>'}});case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}},t)}))).apply(this,arguments)}return{Alert:function(){return t.apply(this,arguments)}}}(),Alert=_ref.Alert,_ref3=function(){function t(){return(t=_asyncToGenerator(regeneratorRuntime.mark(function t(){var e,n,r,i,a,o,s,u,c,l,f,h,d,v,p,g,m,_,y,b,T=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=T.length>0&&void 0!==T[0]?T[0]:"",n=T.length>1&&void 0!==T[1]?T[1]:{},r=n.title,i=n.icon,a=n.closer,o=void 0!==a&&a,s=n.type,u=void 0===s?"warn":s,c=n.position,l=void 0===c?"center":c,f=n.textYes,h=void 0===f?"i18n:yes":f,d=n.textNo,v=void 0===d?"i18n:no":d,p=n.width,g=void 0===p?480:p,m=n.height,_=Ti.I18n.text(e),y=i||"zmdi-help",b=r||"i18n:confirm",t.next=7,Ti.App.Open({type:u,width:g,height:m,position:l,title:b,closer:o,actions:[{text:h,handler:function(){return!0}},{text:v,handler:function(){return!1}}],comType:"modal-inner-body",comConf:{icon:y,text:_},components:{name:"modal-inner-body",globally:!1,props:{icon:void 0,text:void 0},template:'<div class="ti-msg-body as-confirm">\n          <div class="as-icon"><ti-icon :value="icon"/></div>\n          <div class="as-text">{{text}}</div>\n        </div>'}});case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}},t)}))).apply(this,arguments)}return{Confirm:function(){return t.apply(this,arguments)}}}(),Confirm=_ref3.Confirm,_ref5=function(){function t(){return(t=_asyncToGenerator(regeneratorRuntime.mark(function t(){var e,n,r,i,a,o,s,u,c,l,f,h,d,v,p,g,m,_,y,b,T,w,x,k,S,C,A,I,O=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=O.length>0&&void 0!==O[0]?O[0]:"",n=O.length>1&&void 0!==O[1]?O[1]:{},r=n.title,i=void 0===r?"i18n:prompt":r,a=n.icon,o=n.type,s=void 0===o?"info":o,u=n.position,c=void 0===u?"center":u,l=n.iconOk,f=n.iconCancel,h=n.textOk,d=void 0===h?"i18n:ok":h,v=n.textCancel,p=void 0===v?"i18n:cancel":v,g=n.width,m=void 0===g?480:g,_=n.height,y=n.trimed,b=void 0===y||y,T=n.placeholder,w=void 0===T?"":T,x=n.valueCase,k=void 0===x?null:x,S=n.value,C=void 0===S?"":S,A=Ti.I18n.text(e),I=a||"zmdi-keyboard",t.next=6,Ti.App.Open({type:s,width:m,height:_,position:c,title:i,closer:!1,result:C,textOk:d,textCancel:p,iconOk:l,iconCancel:f,comType:"modal-inner-body",components:[{name:"modal-inner-body",globally:!1,data:{icon:I,text:A,placeholder:w||C,trimed:b,valueCase:k},props:{value:null},template:'<div class="ti-msg-body as-prompt"\n          v-ti-activable>\n          <div class="as-icon"><ti-icon :value="icon"/></div>\n          <div class="as-text">\n            <div class="as-tip" v-if="text">{{text}}</div>\n            <ti-input\n              :value="value"\n              :trimed="trimed"\n              :placeholder="placeholder"\n              :value-case="valueCase"\n              :focused="true"\n              :auto-select="true"\n              @inputing="onInputing"/>\n          </div>\n        </div>',methods:{onInputing:function(t){this.$emit("change",t)},__ti_shortcut:function(t){"ENTER"==t&&Ti.App(this).$vm().close(this.value)}}},"@com:ti/input"]});case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}},t)}))).apply(this,arguments)}return{Prompt:function(){return t.apply(this,arguments)}}}(),Prompt=_ref5.Prompt,_ref7=function(){function t(){return(t=_asyncToGenerator(regeneratorRuntime.mark(function t(){var e,n,r,i,a,o,s,u,c,l,f,h,d,v,p,g,m,_,y,b,T,w,x,k,S=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=S.length>0&&void 0!==S[0]?S[0]:"",n=S.length>1&&void 0!==S[1]?S[1]:{},r=n.title,i=void 0===r?"i18n:captcha-tip":r,a=n.type,o=void 0===a?"info":a,s=n.position,u=void 0===s?"center":s,c=n.iconOk,l=n.iconCancel,f=n.textOk,h=void 0===f?"i18n:ok":f,d=n.textCancel,v=void 0===d?"i18n:cancel":d,p=n.width,g=void 0===p?420:p,m=n.height,_=n.imgWidth,y=n.imgHeight,b=void 0===y?50:y,T=n.textChange,w=void 0===T?"i18n:captcha-chagne":T,x=n.placeholder,k=void 0===x?"i18n:captcha":x,t.next=4,Ti.App.Open({type:o,width:g,height:m,position:u,title:i,closer:!1,result:"",textOk:h,textCancel:v,iconOk:c,iconCancel:l,comType:"modal-inner-body",components:[{name:"modal-inner-body",globally:!1,data:{src:e,timestamp:Date.now(),imgWidth:_,imgHeight:b,textChange:w,placeholder:k||value},props:{value:null},template:'<div class="web-simple-form">\n          <header style="padding-bottom:0;">\n            <img ref="pic"\n              v-if="src"\n                :style="CaptchaStyle"\n                :src="CaptchaSrc"\n                @load="OnImgLoaded"/>\n          </header>\n          <section>\n            <div class="as-input">\n              <input ref="input"\n                spellcheck="false"\n                :placeholder="placeholder|i18n"\n                :value="value"\n                @input="$emit(\'change\', $refs.input.value)">\n              <span @click="timestamp = Date.now()">\n                <a>{{textChange|i18n}}</a>\n              </span>\n            </div>\n          </section>\n        </div>',computed:{CaptchaStyle:function(){return Ti.Css.toStyle({width:this.imgWidth,height:this.imgHeight})},CaptchaSrc:function(){return this.src&&this.timestamp>0?-1==this.src.lastIndexOf("?")?this.src+"?_t="+this.timestamp:this.src+"&_t="+this.timestamp:this.src}},methods:{OnImgLoaded:function(){Ti.Be.BlinkIt(this.$refs.pic)},__ti_shortcut:function(t){"ENTER"==t&&Ti.App(this).$vm().close(this.value)}}}]});case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}return{Captcha:function(){return t.apply(this,arguments)}}}(),Captcha=_ref7.Captcha,_ref9=function(){var t=new(0,{TiRuntimeStack:function(){function t(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).setItemViewportMode,n=void 0===e?_.identity:e;_classCallCheck(this,t),this.viewportMode="desktop",this.stack=[],this.setItemViewportMode=n}return _createClass(t,[{key:"push",value:function(t){t&&(this.setItemViewportMode(t,this.viewportMode),this.stack.push(t))}},{key:"remove",value:function(t){var e,n,r=[],i=_createForOfIteratorHelper(this.stack);try{for(i.s();!(n=i.n()).done;){var a=n.value;a===t?e=a:r.push(a)}}catch(t){i.e(t)}finally{i.f()}return this.stack=r,e}},{key:"setViewportMode",value:function(t){this.viewportMode=t;var e,n=_createForOfIteratorHelper(this.stack);try{for(n.s();!(e=n.n()).done;){var r=e.value;this.setItemViewportMode(r,t)}}catch(t){n.e(t)}finally{n.f()}}},{key:"pop",value:function(){return this.stack.pop()}}]),t}()}.TiRuntimeStack),e=Symbol("toa-options"),n=Symbol("toa-app-instance"),r=function(){function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,r),this[e]=t}return _createClass(r,[{key:"open",value:function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function r(){var i,a,o,s,u,c,l,f,h,d,v,p,g,m,y,b,T,w,x,k,S;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return i=this[e],a=i.position,o=void 0===a?"center":a,s=i.icon,u=void 0===s||s,c=i.content,l=void 0===c?"i18n:empty":c,f=i.vars,h=void 0===f?{}:f,d=i.type,v=void 0===d?"info":d,p=i.spacing,g=void 0===p?0:p,m=i.duration,y=void 0===m?3e3:m,b=i.closer,T=void 0===b||b,w=Ti.Dom.createElement({$p:document.body,className:"the-stub"}),!0===u&&(u=Ti.Icons.get(v)),x='<div class="ti-toast"\n        :class="topClass"\n        :style="topStyle"\n        @click="onClose">\n        <transition :name="transName"\n          @after-leave="onAfterLeave">\n          <div v-if="!hidden"\n            class="toast-con"\n            @click.stop>\n            <div v-if="icon"\n              class="toast-icon">\n              <ti-icon :value="icon"/>\n            </div>\n            <div class="toast-body">{{content|i18n(vars)}}</div>\n            <div v-if="closer && \'center\'!=position"\n              class="toast-closer">\n              <a @click="onClose">{{\'close\'|i18n}}</a>\n            </div>\n          </div>\n        </transition>\n      </div>',k={template:x,data:{position:o,icon:u,content:l,type:v,closer:T,vars:h,hidden:!0},store:{modules:{viewport:"@mod:ti/viewport"}},computed:{topClass:function(){return Ti.Css.mergeClassName({"as-bar":"center"!=this.position,"as-block":"center"==this.position},["at-".concat(this.position),"is-".concat(this.type)])},topStyle:function(){if("center"!=this.position)return{padding:Ti.Css.toSize(g)}},transName:function(){return"toast-trans-at-".concat(this.position)}},methods:{onClose:function(){this.closer&&(this.hidden=!0)},onAfterLeave:function(){Ti.App(this).$toast.close()},doOpen:function(){this.hidden=!1},doClose:function(){this.hidden=!0}}},r.next=7,Ti.App(k);case 7:return S=r.sent,this[n]=S,r.next=11,S.init();case 11:return S.mountTo(w),S.$toast=this,S.root("doOpen"),t.push(this),y>0&&_.delay(function(){S.root("doClose")},y),r.abrupt("return",this);case 17:case"end":return r.stop()}},r,this)}));return function(){return r.apply(this,arguments)}}()},{key:"$app",value:function(){return this[n]}},{key:"close",value:function(){t.remove(this),this.$app().destroy(!0)}}]),r}();return{Toast:{Open:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"top";_.isString(t)&&(t=_.isPlainObject(e)?_.assign({position:n,type:"info",content:t,vars:e},e):{type:e||"info",position:n||"top",content:t});var i=new r(t);return i.open(),i},Close:function(){var e=t.pop();e&&e.close()}}}}(),Toast=_ref9.Toast,_ref12=function(){var t={Open:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.target,r=void 0===n?"_blank":n,i=e.method,a=void 0===i?"GET":i,o=e.params,s=void 0===o?{}:o,u=e.delay,c=void 0===u?100:u;return new Promise(function(e){var n=Ti.Dom.createElement({$p:document.body,tagName:"form",attrs:{target:r,method:a,action:t},props:{style:"display:none;"}});_.forEach(s,function(t,e){Ti.Dom.createElement({$p:n,tagName:"input",attrs:{name:e,value:t,type:"hidden"}})}),_.delay(function(){n.submit(),Ti.Dom.remove(n),e({url:t,target:r,method:a,params:s})},c)})},OpenLink:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.target,i=void 0===r?"_blank":r,a=n.method,o=void 0===a?"GET":a,s=n.delay,u=void 0===s?100:s;return t.Open(e.url,{target:i,method:o,delay:u,params:e.params})},ScrollWindowTo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.x,n=void 0===e?0:e,r=t.y,i=void 0===r?0:r;window.scrollTo(n,i)},BlinkIt:function(t,e){if(0!=(t=$(t)).length){"function"==typeof(e=e||{})?e={after:e}:"number"==typeof e&&(e={speed:e});var n=t.offset(),r=t[0].ownerDocument,i=$(r),a={width:t.outerWidth(),height:t.outerHeight(),"border-color":"#FF0",background:"#FFA",opacity:.8,position:"fixed",top:n.top-i.scrollTop(),left:n.left-i.scrollLeft(),"z-index":9999999},o=$(e.html||'<div class="z_blink_light">&nbsp;</div>');o.css(a).appendTo(r.body),o.animate({opacity:.1},e.speed||500,function(){$(this).remove(),"function"==typeof e.after&&e.after.apply(t)})}},EditIt:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=$(t);if(0!=n.length&&!n.hasClass("is-be-editing")){n.addClass("is-be-editing"),_.defaults(e,{text:null,width:0,height:0,extendWidth:!0,takePlace:!0,selectOnFocus:!0,copyStyle:["letter-spacing","margin","border","font-size","font-family","line-height","text-align"],ok:function(t,e){this.innerText=t},context:n[0]});var r={jEle:n,$el:n[0],options:e,oldValue:Ti.Util.fallback(e.text,n.text()),onCancel:function(){this.jMask.remove(),this.jDiv.remove(),this.jEle.css({visibility:""}).removeClass("is-be-editing")},onOk:function(){var t=_.trim(this.jInput.val());t!=this.oldValue&&e.ok.apply(e.context,[t,e.oldValue,e]),this.onCancel()}},i=Ti.Rects.createBy(r.$el),a=e.width||i.width,o=e.height||i.height,s=$('<div class="ti-be-editing as-con"><input></div>'),u=s.find("input"),c=$('<div class="ti-be-editing as-mask"></div>');if(_.assign(r,{jDiv:s,jInput:u,jMask:c,$div:s[0],$input:u[0],$mask:c[0],primaryWidth:a,primaryHeight:o}),c.css({position:"fixed",zIndex:999999,top:0,left:0,right:0,bottom:0}),s.css({position:"fixed",zIndex:1e6,top:i.top,left:i.left,width:a,height:o}),u.css({width:"100%",height:"100%",outline:"none",resize:"none",overflow:"hidden",padding:"0 .06rem",background:"rgba(255,255,50,0.8)",color:"#000",lineHeight:o}).attr({spellcheck:!1}).val(r.oldValue),!_.isEmpty(e.copyStyle)){var l=window.getComputedStyle(r.$el),f=_.pick(l,e.copyStyle);u.css(f)}return r.jMask.appendTo(document.body),r.jDiv.appendTo(document.body),r.jEle.css({visibility:"hidden"}),e.selectOnFocus?r.$input.select():r.$input.focus(),u.one("blur",function(){r.onOk()}),u.on("keydown",function(t){var e=t.which;27==e?r.onCancel():13==e&&r.onOk()}),r}}};return{Be:t}}(),Be=_ref12.Be,_ref16={Alg:{sha1:function(t){return _.isString(t)||(t=JSON.stringify(t)),CryptoJS.SHA1(t).toString()},gcd:function(t,e){return t=Math.round(t),(e=Math.round(e))?this.gcd(e,t%e):t},gcds:function(){var t=Array.from(arguments),e=_.flatten(t);if(0==e.length)return NaN;if(1==e.length)return e[0];for(var n=this.gcd(e[0],e[1]),r=2;r<e.length;r++)n=this.gcd(n,e[r]);return n},lcm:function(t,e){return t=Math.round(t),e=Math.round(e),t*e/this.gcd(t,e)},lcms:function(){var t=Array.from(arguments),e=_.flatten(t);if(0==e.length)return NaN;if(1==e.length)return e[0];for(var n=this.lcm(e[0],e[1]),r=2;r<e.length;r++)n=this.lcm(n,e[r]);return n}}},Alg=_ref16.Alg,_ref17=function(){var TiStr={sBlank:function(t,e){return t||e},isBlank:function(t){return!t||/^\s*$/.test(t)},renderVars:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.iteratee,i=n.regex,a=n.safe;return(_.isString(t)||_.isNumber(t))&&(t={val:t}),!t||_.isEmpty(t)?_.isArray(t)?[]:"":TiStr.renderBy(e,t,{iteratee:r,regex:i,safe:a})},renderBy:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.iteratee,i=n.regex,a=void 0===i?/(\${1,2})\{([^}]+)\}/g:i,o=n.safe,s=void 0!==o&&o;if(!t)return _.isArray(e)?[]:"";if(e=e||{},s){var u=_.isRegExp(s)?s:void 0;e=TiStr.safeDeep(e,u)}if(_.isRegExp(r)&&(a=r,r=void 0),r||(r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.varName,n=t.vars,r=t.matched;if(r.startsWith("$$"))return r.substring(1);var i=r,a=e.indexOf("?");return a>0&&(i=_.trim(e.substring(a+1)),e=_.trim(e.substring(0,a))),Ti.Util.fallback(Ti.Util.getOrPick(n,e),i)}),_.isArray(e)){for(var c=[],l=0;l<e.length;l++){var f=e[l],h=TiStr.renderBy(t,f);c.push(h)}return c}for(var d,v=[],p=0;d=a.exec(t);){var g=d.index;g>p&&v.push(t.substring(p,g));var m=r({vars:e,matched:d[0],prefix:d[1],varName:d[2]});v.push(m),p=a.lastIndex}return p<t.length&&v.push(t.substring(p)),v.join("")},safeDeep:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/['"]/g;return _.isString(e)?e.replace(n,""):_.isArray(e)?_.map(e,function(e){return t.safeDeep(e,n)}):_.isPlainObject(e)?_.mapValues(e,function(e){return t.safeDeep(e,n)}):e},joinWithoutNil:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=_.flattenDeep(n);return _.filter(i,function(t){return!Ti.Util.isNil(t)}).join(t)},join:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=_.flattenDeep(t);return _.isFunction(n)&&(r=_.map(r,n)),r.join(e)},joinAs:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=null;return n&&(r=function(t){return _.isPlainObject(t)?_.get(t,n):n}),TiStr.join(t,e,r)},toJsValue:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.autoJson,r=void 0===n||n,i=e.autoDate,a=void 0===i||i,o=e.autoNil,s=void 0!==o&&o,u=e.trimed,c=void 0===u||u,l=e.context,f=void 0===l?{}:l;if(_.isArray(t)){var h,d=[],v={autoJson:r,autoDate:a,autoNil:s,trimed:c,context:f},p=_createForOfIteratorHelper(t);try{for(p.s();!(h=p.n()).done;){var g=h.value,m=TiStr.toJsValue(g,v);d.push(m)}}catch(t){p.e(t)}finally{p.f()}return d}if(_.isPlainObject(t)){var y={},b={autoJson:r,autoDate:a,autoNil:s,trimed:c,context:f};return _.forEach(t,function(t,e){var n=TiStr.toJsValue(t,b);y[e]=n}),y}if(Ti.Util.isNil(t)||_.isBoolean(t)||_.isNumber(t))return t;var T=c?_.trim(t):t;if(s){if("undefined"==T)return;if("null"==T)return null}if(/^-?[\d.]+$/.test(T))return 1*T;var w=_.get(f,T);if(!_.isUndefined(w))return w;if(/^(true|false|yes|no|on|off)$/i.test(T))return/^(true|yes|on)$/i.test(T);var x=/^'([^']*)'$/.exec(T);if(x)return x[1];if(r){var k=Ti.Types.safeParseJson(t);if(!_.isUndefined(k))return k}if(a)try{return Ti.Types.toDate(t)}catch(t){}return T},joinArgs:function joinArgs(s){var args=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],iteratee=arguments.length>2&&void 0!==arguments[2]?arguments[2]:TiStr.toJsValue;if(_.isString(s)){if(/^\{.*\}$/.test(s))try{return[eval("(".concat(s,")"))]}catch(t){}var _list=s.split(","),_iterator4=_createForOfIteratorHelper(_list),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var li=_step4.value,vs=_.trim(li);if(vs){var _v=iteratee(vs);args.push(_v)}}}catch(t){_iterator4.e(t)}finally{_iterator4.f()}return args}if(_.isArray(s)){var _iterator5=_createForOfIteratorHelper(s),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var _v2=_step5.value,v2=iteratee(_v2);args.push(v2)}}catch(t){_iterator5.e(t)}finally{_iterator5.f()}}else _.isUndefined(s)||args.push(s);return args},toArray:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.sep,r=void 0===n?/[:,;\t\n\/]+/g:n,i=e.ignoreNil,a=void 0===i||i;if(Ti.Util.isNil(t))return[];if(_.isArray(t))return t;if(_.isString(t)&&r){var o=_.map(t.split(r),function(t){return _.trim(t)});return a?_.without(o,""):o}return[t]},toArrayBy:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return TiStr.toArray(t,{sep:e,ignoreNil:!0})},toObject:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.sep,r=void 0===n?/[:,;\t\n\/]+/g:n,i=e.ignoreNil,a=void 0===i||i,o=e.keys,s=void 0===o?["value","text?value","icon"]:o;if(_.isPlainObject(t)||_.isNull(t)||_.isUndefined(t))return t;var u=TiStr.toArray(t,{sep:r,ignoreNil:a}),c=[],l=[];_.forEach(s,function(t){var e=TiStr.toArray(t,{sep:"?"});if(e.length>1){var n=e[0];c.push(n),l.push({name:n,backup:e[1]})}else c.push(t)});var f={};_.forEach(c,function(t,e){var n=_.nth(u,e);_.isUndefined(n)&&a||(f[t]=n)});for(var h=0,d=l;h<d.length;h++){var v=d[h];_.isUndefined(f[v.name])&&(f[v.name]=f[v.backup])}return f},toObjList:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.sepLine,r=void 0===n?/[,;\n]+/g:n,i=e.sepPair,a=void 0===i?/[:|\/\t]+/g:i,o=e.ignoreNil,s=void 0===o||o,u=e.keys,c=void 0===u?["value","text?value","icon"]:u,l=TiStr.toArray(t,{sep:r,ignoreNil:s});return _.map(l,function(t){return TiStr.toObject(t,{sep:a,ignoreNil:s,keys:c})})},sizeText:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.fixed,r=void 0===n?2:n,i=e.M,a=void 0===i?1024:i,o=e.units,s=void 0===o?["Bytes","KB","MB","GB","PB","TB"]:o,u=t,c=0;c<s.length;c++){var l=u/a;if(l<1)break;u=l}var f=s[c];return u==parseInt(u)?u+f:u.toFixed(r)+f},toPercent:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.fixed,r=void 0===n?2:n,i=e.auto,a=void 0===i||i;if(!_.isNumber(t))return"NaN";var o=100*t,s=r>=0?o.toFixed(r):o+"";if(a){var u=s.lastIndexOf("."),c=s.lastIndexOf("0");if(u>=0&&c>u){for(var l=s.length-1;l>=u&&"0"==s[l];l--);l==c||l==u||l++,l<s.length&&(s=s.substring(0,l))}}return s+"%"},toCase:function(t,e){if(Ti.Util.isNil(t))return t;var n=TiStr.getCaseFunc(e);return _.isFunction(n)?n(t):t},getCaseFunc:function(t){return{upper:function(t){return t?t.toUpperCase():t},lower:function(t){return t?t.toLowerCase():t},camel:function(t){return _.camelCase(t)},snake:function(t){return _.snakeCase(t)},kebab:function(t){return _.kebabCase(t)},start:function(t){return _.startCase(t)}}[t]},isValidCase:function(t){return _.isFunction(TiStr.getCaseFunc(t))},isPhoneNumber:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return/^(\+\d{2})? *(\d{11})$/.test(t)}};return{S:TiStr}}(),S=_ref17.S,_ref27=function(){var t=function(){function t(t){return/^@https?:\/\//.test(t)?t.substring(1):/^@\/.+/.test(t)?t.substring(1):/^(@[A-Za-z0-9_-]+:?|\.\/)/.test(t)?t:/^(!(m?js|json|css|text):)/.test(t)?t:void 0}function e(){return n.apply(this,arguments)}function n(){return(n=_asyncToGenerator(regeneratorRuntime.mark(function n(){var r,i,a,o,s,u=arguments;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r=u.length>0&&void 0!==u[0]?u[0]:{},i=u.length>1&&void 0!==u[1]?u[1]:{},a=i.dynamicPrefix,o=i.dynamicAlias,s=[],_.forOwn(r,function(n,i){if(!/^\.{3}/.test(i))if(_.isString(n)){var u=t(n);if(!u)return;s.push(new Promise(function(t,n){Ti.Load(u,{dynamicPrefix:a,dynamicAlias:o}).then(function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function n(s){var c,l;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return c=Ti.Config.url(u,{dynamicPrefix:a,dynamicAlias:o}),n.next=3,e(s,{dynamicAlias:new Ti.Config.AliasMapping({"^./":Ti.Util.getParentPath(c)})});case 3:l=n.sent,r[i]=l,t(l);case 6:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}())}))}else if(_.isArray(n))for(var c=function(r){var u=t(n[r]);if(!u)return"continue";s.push(new Promise(function(t,s){Ti.Load(u,{dynamicPrefix:a,dynamicAlias:o}).then(function(){var s=_asyncToGenerator(regeneratorRuntime.mark(function s(c){var l,f;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return l=Ti.Config.url(u,{dynamicPrefix:a,dynamicAlias:o}),s.next=3,e(c,{dynamicAlias:new Ti.Config.AliasMapping({"^./":Ti.Util.getParentPath(l)})});case 3:f=s.sent,n[r]=f,!f.name&&/^(modules|components)$/.test(i)&&(f.name=Ti.Util.getLinkName(v)),t(f);case 7:case"end":return s.stop()}},s)}));return function(t){return s.apply(this,arguments)}}())}))},l=0;l<n.length;l++){c(l)}else _.isPlainObject(n)&&s.push(e(n,{dynamicPrefix:a,dynamicAlias:o}))}),!(s.length>0)){n.next=7;break}return n.next=7,Promise.all(s);case 7:return n.abrupt("return",r);case 8:case"end":return n.stop()}},n)}))).apply(this,arguments)}function r(){return(r=_asyncToGenerator(regeneratorRuntime.mark(function t(){var n,r,i,a=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:{},r=a.length>1&&void 0!==a[1]?a[1]:document,i=_.cloneDeep(n),t.next=5,e(i);case 5:return Ti.IsInfo("TiApp")&&console.log("await LoadTiLinkedObj(conf)",i),t.abrupt("return",i);case 7:case"end":return t.stop()}},t)}))).apply(this,arguments)}return{LoadTiLinkedObj:e,LoadTiAppInfo:function(){return r.apply(this,arguments)}}}(),e=t.LoadTiAppInfo,n=t.LoadTiLinkedObj,r={TiAppActionShortcuts:function(){function t(){_classCallCheck(this,t),this.guards={},this.actions={}}return _createClass(t,[{key:"addGuard",value:function(t,e,n){e&&_.isFunction(n)&&Ti.Util.pushValue(this.guards,e,{scope:t,func:n})}},{key:"removeGuard",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.guards=this.__remove_by(this.guards,t,n)}},{key:"isWatched",value:function(t,e){var n=this.actions[e];if(_.isArray(n)){var r,i=_createForOfIteratorHelper(n);try{for(i.s();!(r=i.n()).done;){if(r.value.scope===t)return!0}}catch(t){i.e(t)}finally{i.f()}}return!1}},{key:"watch",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.$com,a=r.argContext,o=void 0===a?{}:a,s=_.without(_.concat(n),null);_.forEach(s,function(n){if(_.isArray(n.items)&&n.items.length>0)e.watch(t,n.items,{$com:i,argContext:o});else if(n.action&&n.shortcut){if(e.isWatched(t,n.shortcut))return;var r=Ti.Shortcut.genActionInvoking(n.action,{$com:i,argContext:o,wait:n.wait});Ti.Util.pushValueBefore(e.actions,n.shortcut,{scope:t,func:r,prevent:Ti.Util.fallback(n.prevent,!0),stop:Ti.Util.fallback(n.stop,!0)})}})}},{key:"unwatch",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.actions=this.__remove_by(this.actions,t,n)}},{key:"__remove_by",value:function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=_.flattenDeep(r);if(!e&&_.isEmpty(a))return{};_.isEmpty(a)&&(a=_.keys(t));var o=Ti.Util.isNil(e),s={};return _.forEach(a,function(n){var r=[];_.forEach(t[n],function(t){o||t.scope===e||r.push(t)}),_.isEmpty(r)||(s[n]=r)}),s}},{key:"fire",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{stop:!1,prevent:!1,quit:!1};if(n.quit)return n;var r=Ti.Util.isNil(t),i=this.guards[e];if(_.isArray(i)){var a,o=_createForOfIteratorHelper(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;if((r||s.scope===t)&&!s.func())return n.quit=!0,n}}catch(t){o.e(t)}finally{o.f()}}var u=this.actions[e];if(!_.isArray(u))return n;var c,l=_createForOfIteratorHelper(u);try{for(l.s();!(c=l.n()).done;){var f=c.value;if((r||f.scope===t)&&(n.quit|=f.func(),n.stop|=f.stop,n.prevent|=f.prevent,n.quit))return n}}catch(t){l.e(t)}finally{l.f()}return n}}]),t}()}.TiAppActionShortcuts,i=function(){function t(t,e){var n=!1,r={};return _.forOwn(e,function(e,i,a){var o=/^\.{3}(.*)$/.exec(i);if(o){n=!0;var s=o[1];t&&_.assign(r,function(t,e){var n={};return _.forOwn(e,function(e,r){var i="map"+_.capitalize(r);t?_.assign(n,Vuex[i](t,e)):_.assign(n,Vuex[i](e))}),n}(s,e))}}),n?r:e}var e={StoreConfig:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=Ti.Util.merge({modules:{}},t.mixins);return!t.state&&r.state||(r.state=Ti.Util.genObj(t.state)),r.getters=_.assign(r.getters,Ti.Util.merge({},t.getters)),r.mutations=_.assign(r.mutations,Ti.Util.merge({},t.mutations)),r.actions=_.assign(r.actions,Ti.Util.merge({},t.actions)),Ti.I18n.put(t.i18n),n&&(r.namespaced=!0),_.forEach(t.modules,function(t,n){var i;i=n.startsWith(".")?e.StoreConfig(t):e.StoreConfig(t,n),r.modules[n]=i}),r.plugins=[].concat(t.plugins||[]),r},CreateStore:function(t){return new Vuex.Store(_objectSpread({strict:Ti.IsForDev()},t))},Options:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.global,i=void 0===r?{}:r,a=n.conf,o=void 0===a?{}:a,s=n.store;_.isPlainObject(o.i18n)&&Ti.I18n.put(o.i18n);var u=_.pick(o,["data","props","watch"]),c=_.pick(o,["template","render","renderError"]),l=_.pick(o,["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","activated","deactivated","beforeDestroy","destroyed","errorCaptured"]),f=_.pick(o,["directives","filters","components"]);_.forOwn(f,function(t,n,r){var a,o=[],s=_createForOfIteratorHelper(_.flattenDeep([t]));try{for(s.s();!(a=s.n()).done;){var u=a.value;u.globally?("components"==n&&(u=e.Options({conf:u,global:i})),Ti.Util.pushValue(i,n,u)):o.push(u)}}catch(t){s.e(t)}finally{s.f()}r[n]=o});var h=_.pick(o,["mixins","extends"]),d=_.pick(o,["name","delimiters","functional","model","inheritAttrs","comments","inject","provide"]),v=_objectSpread({},_.mapValues(u,function(t){return Ti.Util.merge({},t)}),{},c,{},_.mapValues(l,Ti.Util.groupCall),{directives:Ti.Util.merge({},f.directives),filters:Ti.Util.merge({},f.filters),components:function(){var t={};return _.map(f.components,function(n){t[n.name]=e.Options({conf:n,global:i})}),t}()},h,{},d);_.isFunction(v.data)||(v.data=Ti.Util.genObj(v.data||{}));var p=_.partial(t,s);if(_.isArray(o.computed)){var g;v.computed=(g=Ti.Util).mergeWith.apply(g,[p,{}].concat(_toConsumableArray(o.computed)))}else _.isObject(o.computed)&&(v.computed=o.computed);if(_.isArray(o.methods)){var m;v.methods=(m=Ti.Util).mergeWith.apply(m,[p,{}].concat(_toConsumableArray(o.methods)))}else _.isObject(o.methods)&&(v.methods=o.methods);return s&&(v.store=s),v},Setup:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r={};return{global:r,options:e.Options({global:r,conf:t,store:n})}},CreateInstance:function(t,e){var n=this,r=Ti.Util.merge({},t.global.filters),i=Ti.Util.merge({},t.global.directives);_.forOwn(r,function(t,e){Vue.filter(e,t)}),_.forOwn(i,function(t,e){Vue.directive(e,t)});return _.map(t.global.components,function t(r){_.map(r.components,t),delete r.components,Ti.I18n.put(r.i18n),_.isFunction(e)&&e(r),n.registerComponent(r.name,r)}),_.isFunction(e)&&e(t.options),new Vue(t.options)},registerComponent:function(t,e){var n=_.upperFirst(_.camelCase(t));Vue.component(n,e)}};return{TiVue:e}}().TiVue,a={TiAppModal:function(){function t(){_classCallCheck(this,t),this.icon=void 0,this.title=void 0,this.type="info",this.iconOk=void 0,this.textOk="i18n:ok",this.ok=function(t){return t.result},this.iconCancel=void 0,this.textCancel="i18n:cancel",this.cancel=function(){},this.actions=null,this.transDelay=300,this.comType="ti-label",this.comConf={},this.components=[],this.closer="default",this.escape=!0,this.mask=!0,this.clickMaskToClose=!1,this.position="center",this.width="6.4rem",this.height=void 0,this.spacing=void 0,this.overflow=void 0,this.adjustable=!1,this.result=void 0,this.modules={},this.topActions=[],this.ready=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),this.preload=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}return _createClass(t,[{key:"open",value:function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(){var e,n,r,i,a,o,s=this,u=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=u.length>0&&void 0!==u[0]?u[0]:_.identity,n=[],this.actions?n=this.actions:(_.isFunction(this.ok)&&this.textOk&&n.push({icon:this.iconOk,text:this.textOk,handler:this.ok}),_.isFunction(this.cancel)&&this.textCancel&&n.push({icon:this.iconCancel,text:this.textCancel,handler:this.cancel})),r='<transition :name="TransName" @after-leave="OnAfterLeave">\n          <div class="ti-app-modal"\n            v-if="!hidden"\n              :class="TopClass"\n              :style="TopStyle"\n              @click.left="OnClickTop"\n              v-ti-activable>\n    \n              <div class="modal-con" \n                :class="ConClass"\n                :style="ConStyle"\n                @click.left.stop>\n    \n                <div class="modal-head"\n                  v-if="isShowHead">\n                    <div class="as-icon" v-if="icon"><ti-icon :value="icon"/></div>\n                    <div class="as-title">{{title|i18n}}</div>\n                    <div\n                      v-if="hasTopActionBar"\n                        class="as-bar">\n                          <ti-actionbar\n                            :items="topActions"\n                            align="right"\n                            :status="TopActionBarStatus"/>\n                    </div>\n                </div>\n    \n                <div class="modal-main">\n                  <component\n                    v-if="comType"\n                      class="ti-fill-parent"\n                      :class="MainClass"\n                      :is="comType"\n                      v-bind="TheComConf"\n                      :on-init="OnMainInit"\n                      :value="result"\n                      @close="OnClose"\n                      @ok="OnOk"\n                      @change="OnChange"\n                      @actions:update="OnActionsUpdated"/>\n                </div>\n    \n                <div class="modal-actions"\n                  v-if="hasActions">\n                    <div class="as-action"\n                      v-for="a of actions"\n                        @click.left="OnClickActon(a)">\n                        <div class="as-icon" v-if="a.icon">\n                          <ti-icon :value="a.icon"/></div>\n                        <div class="as-text">{{a.text|i18n}}</div>\n                    </div>\n                </div>\n    \n                <div class="modal-closer"\n                  v-if="hasCloser"\n                    :class="CloserClass">\n                      <ti-icon value="zmdi-close" @click.native="OnClose"/>\n                </div>\n            </div>\n        </div></transition>',i={name:"app.modal",template:r,components:this.components,data:{hidden:!0,icon:this.icon,title:this.title,type:this.type,ready:this.ready,actions:n,topActions:this.topActions,comType:null,comConf:this.comConf,closer:this.closer,escape:this.escape,mask:this.mask,position:this.position,clickMaskToClose:this.clickMaskToClose,width:this.width,height:this.height,spacing:this.spacing,overflow:this.overflow,adjustable:this.adjustable,result:_.cloneDeep(this.result)},store:{modules:_.defaults({viewport:"@mod:ti/viewport"},this.modules)},computed:{TopClass:function(){var t=Ti.Util.isNil(this.height);return this.getTopClass({"show-mask":this.isShowMask,"no-mask":!this.isShowMask,"has-height":!t,"nil-height":t},"at-".concat(this.position))},TopStyle:function(){if("center"!=this.position)return{padding:Ti.Css.toSize(this.spacing)}},TransName:function(){return"app-modal-trans-at-".concat(this.position)},isShowHead:function(){return this.icon||this.title||this.hasTopActionBar},hasTopActionBar:function(){return!_.isEmpty(this.topActions)},isShowMask:function(){return!!this.mask},hasActions:function(){return!_.isEmpty(this.actions)},hasCloser:function(){return!!this.closer},isCloserDefault:function(){return!0===this.closer||"default"==this.closer},ConClass:function(){return Ti.Css.mergeClassName({"is-show-header":this.isShowHead,"is-hide-header":!this.isShowHead,"is-show-actions":this.hasActions,"is-hide-actions":!this.hasActions,"is-closer-default":this.isCloserDefault,"has-top-action-bar":this.hasTopActionBar},"is-".concat(this.type))},ConStyle:function(){return Ti.Css.toStyle({width:this.width,height:this.height})},MainClass:function(){return Ti.Css.mergeClassName("modal-type-is-".concat(this.type))},Main:function(){return this.$store.state.main},TopActionBarStatus:function(){return _.get(this.Main,"status")},CloserClass:function(){return Ti.Css.mergeClassName(_defineProperty({"as-lamp-cord":!this.isCloserDefault,"as-default":this.isCloserDefault},"at-".concat(this.closer),!this.isCloserDefault))},TheComConf:function(){return Ti.Util.explainObj(this,this.comConf)}},methods:{OnClickTop:function(){this.clickMaskToClose&&(this.hidden=!0)},OnClose:function(){this.close()},OnOk:function(t){_.isUndefined(t)&&(t=this.result),this.close(t)},OnChange:function(t){this.result=t},OnActionsUpdated:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.topActions=t,Ti.App(this).reWatchShortcut(t)},OnClickActon:function(t){var e=this;return _asyncToGenerator(regeneratorRuntime.mark(function n(){var r,i,a,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.handler){n.next=8;break}return r=Ti.App(e),i={close:!0},a=r.$vm(),n.next=6,t.handler({$app:r,$body:a,$main:a.$main,result:_.cloneDeep(a.result),status:i});case 6:o=n.sent,i.close?e.close(o):e.setResult(o);case 8:case"end":return n.stop()}},n)}))()},OnAfterLeave:function(){Ti.App(this).destroy(!0),e(this.returnValue)},OnMainInit:function(t){var e=Ti.App(this);this.$main=t,e.$vmMain(t),this.escape&&e.watchShortcut([{action:"root:close",shortcut:"ESCAPE"}]),this.setActived(),this.ready(e)},close:function(t){_.isUndefined(t)||(this.returnValue=t),this.hidden=!0},setResult:function(t){this.returnValue=t}},mounted:function(){var t=this,e=Ti.App(this);Ti.App.pushInstance(e),this.$nextTick(function(){t.hidden=!1})},beforeDestroy:function(){var t=Ti.App(this);Ti.App.pullInstance(t)}},a=Ti.App(i),t.next=8,a.init();case 8:return o=Ti.Dom.createElement({$p:document.body,className:"the-stub"}),t.next=11,this.preload(a);case 11:a.mountTo(o),_.delay(function(){a.$vm().comType=s.comType},this.transDelay||0);case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),t}()}.TiAppModal,o=Symbol("ti-app"),s=Symbol("ti-info"),u=Symbol("ti-conf"),c=Symbol("ti-store"),l=Symbol("ti-vm"),f=Symbol("ti-vm-main"),h=Symbol("ti-vm-actived"),d=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;_classCallCheck(this,t),this.appDecorator=n,this.$info(e),this.$conf(null),this.$store(null),this.$vm(null),this.$shortcuts=new r}return _createClass(t,[{key:"name",value:function(){return this.$info().name}},{key:"$info",value:function(t){return Ti.Util.geset(this,s,t)}},{key:"$conf",value:function(t){return Ti.Util.geset(this,u,t)}},{key:"$store",value:function(t){return Ti.Util.geset(this,c,t)}},{key:"$vm",value:function(t){return Ti.Util.geset(this,l,t)}},{key:"$vmMain",value:function(t){return Ti.Util.geset(this,f,t)}},{key:"$state",value:function(){return this.$store().state}},{key:"init",value:function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(){var n,r,a,s,u,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.$info(),t.next=3,e(n);case 3:return r=t.sent,this.appDecorator(r),this.$conf(r),Ti.IsInfo("TiApp")&&console.log("Ti.$conf",this.$conf()),r.store&&(s=i.StoreConfig(r.store),Ti.IsInfo("TiApp")&&console.log("TiVue.StoreConfig:",s),a=i.CreateStore(s),this.$store(a),a[o]=this,Ti.IsInfo("TiApp")&&console.log("Ti.$store",this.$store())),u=i.Setup(r,a),Ti.IsInfo("TiApp")&&(console.log("TiVue.VueSetup(conf)"),console.log(" -- global:",u.global),console.log(" -- options:",u.options)),c=i.CreateInstance(u,function(t){Ti.Config.decorate(t)}),c[o]=this,this.$vm(c),t.abrupt("return",this);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"mountTo",value:function(t){this.$el=Ti.Dom.find(t),this.$vm().$mount(this.$el),this.$el=this.$vm().$el,this.$el[o]=this}},{key:"destroy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$vm().$destroy(),this.$el[o]=null,t&&Ti.Dom.remove(this.$el)}},{key:"setActivedVm",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this[h]=t;var e=t.tiActivableComIdPath();this.$store().commit("viewport/setActivedIds",e)}},{key:"setBlurredVm",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this[h]==t){var e=t.tiParentActivableCom();this[h]=e;var n=e?e.tiActivableComIdPath():[];this.$store().commit("viewport/setActivedIds",n)}}},{key:"getActivedVm",value:function(){return this[h]}},{key:"reWatchShortcut",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.unwatchShortcut(),this.watchShortcut(t)}},{key:"watchShortcut",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.$shortcuts.watch(this,e,{$com:function(){return t.$vmMain()},argContext:this.$state()})}},{key:"unwatchShortcut",value:function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];(t=this.$shortcuts).unwatch.apply(t,[this].concat(n))}},{key:"guardShortcut",value:function(t,e,n){this.$shortcuts.addGuard(t,e,n)}},{key:"pulloutShortcut",value:function(t,e,n){this.$shortcuts.removeGuard(t,e,n)}},{key:"fireShortcut",value:function(t,e){var n={stop:!1,prevent:!1,quit:!1},r=this.getActivedVm();if(r){var i,a=_createForOfIteratorHelper(r.tiActivableComPath(!1));try{for(a.s();!(i=a.n()).done;){var o=i.value;if(_.isFunction(o.__ti_shortcut)){var s=o.__ti_shortcut(t)||{};if(n.stop|=s.stop,n.prevent|=s.prevent,n.quit|=s.quit,n.quit)break}}}catch(t){a.e(t)}finally{a.f()}}return this.$shortcuts.fire(this,t,n),n.prevent&&e.preventDefault(),n.stop&&e.stopPropagation(),n}},{key:"exec",value:function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(e,n){var r,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e,!_.isString(r)){t.next=6;break}if(i=/^(commit|dispatch|root|main):(.+)$/.exec(r)){t.next=5;break}return t.abrupt("return");case 5:r={method:i[1],name:i[2]};case 6:return t.next=8,this[r.method](r.name,n);case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"commit",value:function(t,e){this.$store().commit(t,e)}},{key:"dispatch",value:function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(e,n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Ti.IsInfo("TiApp")&&console.log("TiApp.dispatch",e,n),t.next=3,this.$store().dispatch(e,n);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"root",value:function(t,e){Ti.IsInfo("TiApp")&&console.log("TiApp.self",t,e);var n=this.$vm()[t];if(_.isFunction(n))return n(e);if(_.isUndefined(n))throw Ti.Err.make("e-ti-app-self",{nm:t,payload:e});return n}},{key:"main",value:function(t,e){Ti.IsInfo("TiApp")&&console.log("TiApp.main",t,e);var n=this.$vmMain()[t];if(_.isFunction(n))return n(e);if(_.isUndefined(n))throw Ti.Err.make("e-ti-app-main",{nm:t,payload:e});return n}},{key:"global",value:function(t){for(var e=_.get(window,t),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(_.isFunction(e))return e.apply(this,r);throw Ti.Err.make("e-ti-app-main",{nm:t,args:r})}},{key:"get",value:function(t){return t?this.$vm()[t]:this.$vm()}},{key:"loadView",value:function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(e){var r,a,o,s,u,c,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.modType){t.next=9;break}return t.next=3,Ti.Load(e.modType);case 3:return a=t.sent,t.next=6,n(a,{dynamicAlias:new Ti.Config.AliasMapping({"^./":e.modType+"/"})});case 6:(o=t.sent).state||(o.state={}),r=i.StoreConfig(o,!0);case 9:return t.next=11,Ti.Load(e.comType);case 11:return s=t.sent,t.next=14,n(s,{dynamicAlias:new Ti.Config.AliasMapping({"^./":e.comType+"/"})});case 14:return u=t.sent,c=i.Setup(u),l=c.options.name||Ti.Util.getLinkName(e.comType),Ti.IsInfo("TiApp")&&(console.log("TiApp.loadView:",l),console.log(" -- global:",c.global),console.log(" -- options:",c.options)),Ti.Config.decorate(c.options),i.registerComponent(l,c.options),_.map(c.global.components,function(t){Ti.Config.decorate(t),i.registerComponent(t.name,t)}),t.abrupt("return",_objectSpread({},e,{comName:l,mod:r}));case 22:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}]),t}(),p=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_.identity;if(Ti.Util.isNil(t))return null;if(_.isString(t))return Ti.Load(t).then(function(t){return new d(t,e)});if(_.isElement(t)){for(var n=t,r=n[o];!r&&n.parentElement;)r=(n=n.parentElement)[o];return r}return t instanceof Vue?t.$root[o]:t instanceof Vuex.Store?t[o]:_.isPlainObject(t)?new d(t,e):void 0},g=[];return p.pushInstance=function(t){t&&g.push(t)},p.pullInstance=function(t){t&&_.pull(g,t)},p.topInstance=function(){return _.last(g)},p.hasTopInstance=function(){return g.length>0},p.eachInstance=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_.identity;_.forEach(g,t)},p.allInstance=function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:_.identity;return g},p.Open=function(t){return new Promise(function(e){var n=new a;_.assign(n,t),n.open(e)})},{App:p}}(),App=_ref27.App,_ref41={Err:{make:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,n=t;_.isString(t)&&(n={code:t,data:e});var r=n.code.replace(/[.]/g,"-"),i=Ti.I18n.get(r);e&&(_.isPlainObject(e)?i+=" : "+JSON.stringify(e):i+=" : "+e);var a=new Error(i.trim());return _.assign(a,n)}}},Err=_ref41.Err,_ref42=function(){var t={prefix:{},alias:{},suffix:{}},e=function(){function t(e){_classCallCheck(this,t),this.list=[],this.reset(e)}return _createClass(t,[{key:"reset",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.forOwn(e,function(e,n){t.list.push({regex:new RegExp(n),newstr:e})}),this}},{key:"get",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,r=e,i=_createForOfIteratorHelper(this.list);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.regex.test(r)&&(r=r.replace(a.regex,a.newstr))}}catch(t){i.e(t)}finally{i.f()}return r||(_.isUndefined(n)?e:n)}}]),t}(),n=(new e).reset(),r=(new(function(){function t(e){_classCallCheck(this,t),this.list=[],this.reset(e)}return _createClass(t,[{key:"reset",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.forOwn(e,function(e,n){t.list.push({regex:new RegExp(n),suffix:e})}),this}},{key:"get",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,r=e,i=_createForOfIteratorHelper(this.list);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.regex.test(r)&&!r.endsWith(a.suffix)){r+=a.suffix;break}}}catch(t){i.e(t)}finally{i.f()}return r||(_.isUndefined(n)?e:n)}}]),t}())).reset(),i={AliasMapping:e,version:function(){return t.version},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.prefix,a=e.alias,o=e.suffix,s=e.lang;i&&(t.prefix=i),a&&(t.alias=a,n.reset(t.alias)),o&&(t.suffix=o,r.reset(t.suffix)),s&&(t.lang=s)},update:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.prefix,a=e.alias,o=e.suffix,s=e.lang;i&&_.assign(t.prefix,i),a&&(_.assign(t.alias,a),n.reset(t.alias)),o&&(_.assign(t.suffix,o),r.reset(t.suffix)),s&&(t.lang=s)},get:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e?_.get(t,e):t},decorate:function(t){var e=t.name||"Unkown";Ti.Util.pushValue(t,"mixins",{computed:{tiComType:function(){return e}}})},lang:function(){return i.get("lang")||"zh-cn"},url:function(){var i,a,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=s.dynamicPrefix,c=void 0===u?{}:u,l=s.dynamicAlias;if(l){i=(l instanceof e?l:(new e).reset(l)).get(o,null)}var f;if(/^((https?:)?\/\/)/.test(i))f=/^.+\.(css|js|mjs|json|txt|text|html|xml)$/.test(i)?i:r.get(i);else{if(i=n.get(i||o),/^.+\.(css|js|mjs|json|txt|text|html|xml)$/.test(i)||(i=r.get(i)),!(a=/^(@([^:]+):?)(.*)/.exec(i)))return i;var h=_slicedToArray(a.slice(2),2),d=h[0],v=h[1],p=c[d]||t.prefix[d];if(!p)throw Ti.Err.make("e-ti-config-prefix_without_defined",d);f=p+v}return f}};return{Config:i}}(),Config=_ref42.Config,_ref46=function(){var t={createElement:function(t){var e=t.tagName,n=void 0===e?"div":e,r=t.attrs,i=void 0===r?{}:r,a=t.props,o=void 0===a?{}:a,s=t.className,u=void 0===s?"":s,c=t.$p,l=void 0===c?null:c,f=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).createElement(n);return u&&(f.className=Ti.Css.joinClassNames(u)),_.forOwn(i,function(t,e){f.setAttribute(e,t)}),_.forOwn(o,function(t,e){f[e]=t}),l&&l.appendChild(f),f},appendToHead:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.head;_.isElement(t)&&_.isElement(e)&&e.appendChild(t)},appendToBody:function(t){arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body;_.isElement(t)&&_.isElement($body)&&$body.appendChild(t)},appendTo:function(t,e){_.isElement(t)&&_.isElement(e)&&e.appendChild(t)},prependTo:function(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)},findAll:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"*",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;if(!e)return[];return _toConsumableArray(e.querySelectorAll(t))},find:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"*",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return e?_.isElement(t)?t:e.querySelector(t):[]},remove:function(e,n){if(_.isString(e)){var r,i=_createForOfIteratorHelper(t.findAll(e,n));try{for(i.s();!(r=i.n()).done;){var a=r.value;t.remove(a)}}catch(t){i.e(t)}finally{i.f()}}else _.isElement(e)&&e.parentNode.removeChild(e)},ownerWindow:function(t){return t.defaultView?t.defaultView:t.ownerDocument?t.ownerDocument.defaultView:t},autoRootFontSize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.$win,n=void 0===e?window:e,r=t.phoneMaxWidth,i=void 0===r?540:r,a=t.tabletMaxWidth,o=void 0===a?768:a,s=t.designWidth,u=void 0===s?1e3:s,c=t.max,l=void 0===c?100:c,f=t.min,h=void 0===f?80:f,d=t.callback,v=window.document,p=document.documentElement,g=n.innerWidth/u*l,m=Math.min(Math.max(g,h),l);if(_.isFunction(d)){d({$win:n,$doc:v,$root:p,mode:n.innerWidth>o?"desktop":n.innerWidth>i?"tablet":"phone",fontSize:m,width:n.innerWidth,height:n.innerHeight})}},watchDocument:function(t,e){document.addEventListener(t,e)},unwatchDocument:function(t,e){document.removeEventListener(t,e)},watchAutoRootFontSize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;_.isFunction(e)&&(r=n||window,n=e,e=void 0);var i=_.assign({},e,{$win:r,callback:n});r.addEventListener("resize",function(){t.autoRootFontSize(i)}),_.delay(function(){t.autoRootFontSize(i)},1)},setStyle:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_.forOwn(e,function(e,n){if(!_.isNull(e)&&!_.isUndefined(e)){var r=_.kebabCase(n);if(""===e)t.style.removeProperty(r);else{var i=_.isNumber(e)?e+"px":e;t.style.setProperty(r,i)}}})},setClass:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=_.flattenDeep(n).join(" ");t.className=i},addClass:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i,a=_createForOfIteratorHelper(_.flattenDeep(n));try{for(a.s();!(i=a.n()).done;){var o=i.value,s=_.trim(o);t.classList.add(s)}}catch(t){a.e(t)}finally{a.f()}},removeClass:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i,a=_createForOfIteratorHelper(_.flattenDeep(n));try{for(a.s();!(i=a.n()).done;){var o=i.value,s=_.trim(o);t.classList.remove(s)}}catch(t){a.e(t)}finally{a.f()}},hasClass:function(t){if(!_.isElement(t))return!1;for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(!t.classList.contains(o))return!1}return!0},hasOneClass:function(t){if(!_.isElement(t))return!1;for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(t.classList.contains(o))return!0}return!1},applyRect:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"tlwh",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=e.ownerDocument.defaultView;_.defaults(i,{width:a.innerWidth,height:a.innerHeight});var o=n.toCss(i,r);t.setStyle(e,o)},dockTo:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.mode,a=void 0===i?"H":i,o=r.axis,s=void 0===o?{}:o,u=r.posListX,c=r.posListY,l=r.space,f=r.viewportBorder,h=void 0===f?4:f,d=r.position;d&&(e.style.position=d);var v={src:Ti.Rects.createBy(e),ta:Ti.Rects.createBy(n),win:Ti.Rects.createBy(e.ownerDocument.defaultView)},p=function(t,e,n){return t<=e?n[0]:t>e&&t<=2*e?n[1]:n[2]};if(_.defaults(s,{x:"auto",y:"auto"}),"auto"==s.x){var g=u||{H:["left","right"],V:["right","left"]}[a];s.x=p(v.ta.x,v.win.width/g.length,g)}if("auto"==s.y){var m=c||{H:["bottom","top"],V:["top","center","bottom"]}[a];s.y=p(v.ta.y,v.win.height/m.length,m)}var y=v.win.clone();"H"==a&&("bottom"==s.y?y.top=v.ta.bottom:"top"==s.y&&(y.bottom=v.ta.top),y.updateBy("tlbr"));var b=v.src.dockTo(v.ta,a,{axis:s,space:l,viewport:y,viewportBorder:h,wrapCut:!0});_.delay(function(){t.applyRect(e,v.src,b)},0)},htmlChipITT:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.icon,n=t.text,r=t.tip,i=t.more,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=a.tagName,s=void 0===o?"div":o,u=a.className,c=void 0===u?"":u,l=a.iconTag,f=void 0===l?"div":l,h=a.iconClass,d=void 0===h?"":h,v=a.textTag,p=void 0===v?"div":v,g=a.textClass,m=void 0===g?"":g,y=a.textAsHtml,b=void 0!==y&&y,T=a.moreTag,w=void 0===T?"div":T,x=a.moreClass,k=void 0===x?"":x,S=a.wrapperTag,C=void 0===S?"":S,A=a.wrapperClass,I=void 0===A?"":A,O=a.attrs,E=void 0===O?{}:O,N="";if(e||n){var F=Ti.Icons.fontIconHtml(e),R=function(t,e){return t&&e?"".concat(t,'="').concat(e,'"'):""},D=function(t){return R("class",t)},j=[];if(_.forOwn(E,function(t,e){j.push(R(e,t))}),j=j.join(" "),N+="<".concat(s," ").concat(D(c)," ").concat(R("ti-tip",r)," ").concat(j,">"),F&&(N+="<".concat(f," ").concat(D(d),'">').concat(F,"</").concat(f,">")),n){var M=b?n:Ti.I18n.text(n);N+="<".concat(p," ").concat(D(m),">").concat(M,"</").concat(p,">")}if(i){var $=Ti.I18n.text(i);N+="<".concat(w," ").concat(D(k),">").concat($,"</").concat(w,">")}N+="</".concat(s,">")}return C?"<".concat(C," ").concat(klass(I),">").concat(N,"</").concat(C,">"):N},scrollBarSize:function(){if(!window.SCROLL_BAR_SIZE){var t=0;$("body").append("<div id='div_out' style='position:relative;width:100px;height:100px;overflow-y:scroll;overflow-x:scroll'></div>"),$("#div_out").append("<div id='div_in' style='position:absolute;width:100%;height:100%;'></div>");var e=$("#div_out"),n=$("#div_in");t=e.width()-n.width(),$("#div_out").remove(),$("#div_in").remove(),window.SCROLL_BAR_SIZE=t}return window.SCROLL_BAR_SIZE}};return{Dom:t}}(),Dom=_ref46.Dom,_ref52=function(){function t(t,n,r){var i,a={},o=_createForOfIteratorHelper(e.explainToArray(n,!1));try{for(o.s();!(i=o.n()).done;){var s=i.value,u=Ti.Util.fallback(t[s],r);_.isUndefined(u)||(a[s]=u)}}catch(t){o.e(t)}finally{o.f()}return a}var e=new(function(){function t(){_classCallCheck(this,t),_.assign(this,{t:"top",l:"left",w:"width",h:"height",r:"right",b:"bottom",x:"x",y:"y"})}return _createClass(t,[{key:"explainToArray",value:function(t){var e,n=[],r=_createForOfIteratorHelper(function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t)return[];if(_.isArray(t))return t;var n=t.toLowerCase().split("");return e?n.sort():n}(t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1]));try{for(r.s();!(e=r.n()).done;){var i=this[e.value];i&&n.push(i)}}catch(t){r.e(t)}finally{r.f()}return n}},{key:"getKey",value:function(t){return this[t]}}]),t}()),n=function(){function n(t,e){_classCallCheck(this,n),this.__ti_rect__=!0,this.set(t,e)}return _createClass(n,[{key:"set",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{top:0,left:0,width:0,height:0},e=arguments.length>1?arguments[1]:void 0,n=["bottom","height","left","right","top","width","x","y"];if(_.isUndefined(e)){var r,i=[],a=_createForOfIteratorHelper(n);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=t[o];if(_.isNumber(s)){this[o]=s;var u=o.substring(0,1);i.push(u)}}}catch(t){a.e(t)}finally{a.f()}e=i.join("")}else{var c,l=_createForOfIteratorHelper(n);try{for(l.s();!(c=l.n()).done;){var f=c.value,h=t[f];_.isNumber(h)&&(this[f]=h)}}catch(t){l.e(t)}finally{l.f()}}return"bhlrtwxy"==e?this:this.updateBy(e)}},{key:"toString",value:function(){var e=t(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"tlwh","NaN"),n=[];return _.forEach(e,function(t){return n.push(t)}),n.join(",")}},{key:"valueOf",value:function(){return this.toString()}},{key:"updateBy",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"tlwh";return{"height/left/top/width":function(){t.right=t.left+t.width,t.bottom=t.top+t.height,t.x=t.left+t.width/2,t.y=t.top+t.height/2},"height/right/top/width":function(){t.left=t.right-t.width,t.bottom=t.top+t.height,t.x=t.left+t.width/2,t.y=t.top+t.height/2},"bottom/height/left/width":function(){t.top=t.bottom-t.height,t.right=t.left+t.width,t.x=t.left+t.width/2,t.y=t.top+t.height/2},"bottom/height/right/width":function(){t.top=t.bottom-t.height,t.left=t.right-t.width,t.x=t.left+t.width/2,t.y=t.top+t.height/2},"bottom/left/right/top":function(){t.width=t.right-t.left,t.height=t.bottom-t.top,t.x=t.left+t.width/2,t.y=t.top+t.height/2},"height/width/x/y":function(){var e=t.width/2,n=t.height/2;t.top=t.y-n,t.bottom=t.y+n,t.left=t.x-e,t.right=t.x+e},"height/left/width/y":function(){var e=t.width/2,n=t.height/2;t.top=t.y-n,t.bottom=t.y+n,t.x=t.left+e,t.right=t.left+t.width},"height/right/width/y":function(){var e=t.width/2,n=t.height/2;t.top=t.y-n,t.bottom=t.y+n,t.x=t.right-e,t.left=t.right-t.width},"height/top/width/x":function(){var e=t.width/2,n=t.height/2;t.y=t.top+n,t.bottom=t.top+t.height,t.left=t.x-e,t.right=t.x+e},"bottom/height/width/x":function(){var e=t.width/2,n=t.height/2;t.y=t.bottom-n,t.top=t.bottom-t.height,t.left=t.x-e,t.right=t.x+e}}[e.explainToArray(n).join("/")](),this}},{key:"raw",value:function(){return t(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"tlwh",arguments.length>1?arguments[1]:void 0)}},{key:"toCss",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{width:window.innerWidth,height:window.innerHeight},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"tlwh",r=arguments.length>2?arguments[2]:void 0,i={top:this.top,left:this.left,width:this.width,height:this.height,right:e.width-this.right,bottom:e.height-this.bottom};return Ti.IsDebug()&&console.log("CSS:",i),t(i,n,r)}},{key:"relative",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0};return this.top=this.top-(t.top-e.y),this.left=this.left-(t.left-e.x),this.updateBy("tlwh")}},{key:"zoom",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.x,n=void 0===e?1:e,r=t.y,i=void 0===r?n:r,a=t.centre,o=void 0===a?this:a;return this.top=(this.top-o.y)*i+o.y,this.left=(this.left-o.x)*n+o.x,this.width=this.width*n,this.height=this.height*i,this.updateBy("tlwh")}},{key:"zoomTo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.width,r=t.height,i=t.mode,a=void 0===i?"contain":i;if("contain"==a){if(new n({top:0,left:0,width:e,height:r}).contains(this))return this}var o,s,u=e,c=r,l=this.width/this.height,f=u/c;return l>f?"cover"==a?(s=c,o=c*l):(o=u,s=u/l):l<f?"cover"==a?(o=u,s=u/l):(s=c,o=c*l):(o=u,s=c,x=0,y=0),this.width=o,this.height=s,this.updateBy("tlwh")}},{key:"centreTo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.width,n=t.height,r=t.top,i=void 0===r?0:r,a=t.left,o=void 0===a?0:a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=s.xAxis,c=void 0===u||u,l=s.yAxis,f=void 0===l||l;if(c&&e>0){var h=e-this.width;this.left=o+h/2}if(f&&n>0){var d=n-this.height;this.top=i+d/2}return this.updateBy("tlwh")}},{key:"translate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.x,n=void 0===e?0:e,r=t.y,i=void 0===r?0:r;return this.y-=i,this.x-=n,this.updateBy("xywh")}},{key:"moveTo",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"tl";_.defaults(n,{x:0,y:0}),_.defaults(r,{x:0,y:0});return{"left/top":function(){t.left=n.x-r.x,t.top=n.y-r.y,t.updateBy("tlwh")},"right/top":function(){t.right=n.x+r.x,t.top=n.y-r.y,t.updateBy("trwh")},"bottom/left":function(){t.left=n.x-r.x,t.bottom=n.y+r.y,t.updateBy("blwh")},"bottom/right":function(){t.right=n.x+r.x,t.bottom=n.y+r.y,t.updateBy("brwh")}}[e.explainToArray(i).join("/")](),this}},{key:"dockTo",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"H",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.axis,o=void 0===a?{}:a,s=i.space,u=void 0===s?{}:s,c=i.viewport,l=void 0===c?{}:c,f=i.viewportBorder,h=void 0===f?4:f,d=i.wrapCut,v=void 0!==d&&d;_.isNumber(u)&&(u={x:u,y:u}),_.defaults(o,{x:"center",y:"bottom"}),_.defaults(u,{x:0,y:0});({"V:left/top":function(){e.right=t.left-u.x,e.top=t.top+u.y,e.updateBy("rtwh")},"V:left/center":function(){e.right=t.left-u.x,e.y=t.y+u.y,e.updateBy("rywh")},"V:left/bottom":function(){e.right=t.left-u.x,e.bottom=t.bottom-u.y,e.updateBy("rbwh")},"V:right/top":function(){e.left=t.right+u.x,e.top=t.top+u.y,e.updateBy("ltwh")},"V:right/center":function(){e.left=t.right+u.x,e.y=t.y+u.y,e.updateBy("lywh")},"V:right/bottom":function(){e.left=t.right+u.x,e.bottom=t.bottom-u.y,e.updateBy("lbwh")},"H:left/top":function(){e.left=t.left+u.x,e.bottom=t.top-u.y,e.updateBy("lbwh")},"H:left/bottom":function(){e.left=t.left+u.x,e.top=t.bottom+u.y,e.updateBy("ltwh")},"H:center/top":function(){e.x=t.x+u.x,e.bottom=t.top-u.y,e.updateBy("xbwh")},"H:center/bottom":function(){e.x=t.x+u.x,e.top=t.bottom+u.y,e.updateBy("xtwh")},"H:right/top":function(){e.right=t.right-u.x,e.bottom=t.top-u.y,e.updateBy("rbwh")},"H:right/bottom":function(){e.right=t.right-u.x,e.top=t.bottom+u.y,e.updateBy("rtwh")}})[n+":"+o.x+"/"+o.y]();var p="tl";if(v&&r.isRect(l)){var g=l.clone(h);g.wrap(this),g.contains(this)||(this.overlap(g),p="tlwh")}return p}},{key:"dockIn",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_.defaults(n,{x:"center",y:"center"}),_.defaults(r,{x:0,y:0});return{"left/top":function(){e.left=t.left+r.x,e.top=t.top+r.y,e.updateBy("ltwh")},"left/center":function(){e.left=t.left+r.x,e.y=t.y+r.y,e.updateBy("lywh")},"left/bottom":function(){e.left=t.left+r.x,e.bottom=t.bottom-r.y,e.updateBy("lbwh")},"right/top":function(){e.right=t.right-r.x,e.top=t.top+r.y,e.updateBy("rtwh")},"right/center":function(){e.right=t.right-r.x,e.y=t.y+r.y,e.updateBy("rywh")},"right/bottom":function(){e.right=t.right-r.x,e.bottom=t.bottom-r.y,e.updateBy("brwh")},"center/center":function(){e.x=t.x+r.x,e.x=t.y+r.y,e.updateBy("xywh")}}[n.x+"/"+n.y](),this}},{key:"wrap",value:function(t){var e=["w","h"];return this.containsX(t)||(t.left>this.left&&t.right>this.right?(t.right=this.right,e.push("r")):(t.left=this.left,e.push("l"))),this.containsY(t)?3==e.length&&e.push("t"):t.top>this.top&&t.bottom>this.bottom?(t.bottom=this.bottom,e.push("b")):(t.top=this.top,e.push("t")),3==e.length&&e.push("l"),4==e.length?t.updateBy(e.join("")):t}},{key:"wrapCut",value:function(t){return this.wrap(t),this.contains(t)||t.overlap(this),t}},{key:"union",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,i=e;r<i.length;r++){var a=i[r];this.top=Math.min(this.top,a.top),this.left=Math.min(this.left,a.left),this.right=Math.max(this.right,a.right),this.bottom=Math.max(this.bottom,a.bottom)}return this.updateBy("tlbr")}},{key:"overlap",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,i=e;r<i.length;r++){var a=i[r];this.top=Math.max(this.top,a.top),this.left=Math.max(this.left,a.left),this.right=Math.min(this.right,a.right),this.bottom=Math.min(this.bottom,a.bottom)}return this.updateBy("tlbr")}},{key:"contains",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.containsX(t,e)&&this.containsY(t,e)}},{key:"containsX",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.left+e<=t.left&&this.right-e>=t.right}},{key:"containsY",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.top+e<=t.top&&this.bottom-e>=t.bottom}},{key:"isOverlap",value:function(t){return this.overlap(t).area()>0}},{key:"area",value:function(){return this.width*this.height}},{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new n({left:this.left+t,right:this.right-t,top:this.top+t,bottom:this.bottom-t},"tlbr")}}]),n}(),r={create:function(t,e){return new n(t,e)},createBy:function(t){if(!t.ownerDocument){var e=Ti.Dom.ownerWindow(t);return new n({top:0,left:0,width:e.innerWidth,height:e.innerHeight})}var r=t.getBoundingClientRect();return new n(r,"tlwh")},union:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(0==e.length)return new n;var i=new n(e[0]);return i.union.apply(i,_toConsumableArray(e.slice(1))),i},overlap:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(0==e.length)return new n;var i=new n(e[0]);return i.overlap.apply(i,_toConsumableArray(e.slice(1))),i},isRect:function(t){return t&&t.__ti_rect__&&t instanceof n}};return{Rect:n,TiRects:r,Rects:r}}(),Rect=_ref52.Rect,Rects=_ref52.Rects,_ref59=function(){function t(){return e.apply(this,arguments)}function e(){return(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var n,r,i,o,s,u,c,l,f,h,d,v,p=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=p.length>0&&void 0!==p[0]?p[0]:[],r=p.length>1&&void 0!==p[1]?p[1]:{},i=r.dynamicPrefix,o=r.dynamicAlias,!_.isFunction(n)){e.next=5;break}return s=n(),e.abrupt("return",t(s,{dynamicPrefix:i}));case 5:if(!_.isArray(n)){e.next=10;break}return u=[],c=[],n.forEach(function(e,n){u.push(t(e,{dynamicPrefix:i,dynamicAlias:o}).then(function(t){return c[n]=t}))}),e.abrupt("return",Promise.all(u).then(function(){return c}));case 10:if(_.isString(n)){e.next=12;break}throw Ti.Err.make("e-ti-use-url_must_string",n);case 12:if(l=n,(h=/^(!(m?js|json|css|text):)?(.+)$/.exec(n))&&(f=h[2],l=h[3]),d=Ti.Config.url(l,{dynamicPrefix:i,dynamicAlias:o}),Ti.IsInfo("TiLoad")&&console.log("url",n,"\n  ::",l,"\n  ::",d,"\n  ::",i,"\n  ::",o),f||(h=/\.(m?js|css|json)$/.exec(d),f=h?h[1]:"text"),!(v=Ti.MatchCache(d))){e.next=21;break}return e.abrupt("return",v);case 21:return e.prev=21,e.next=24,a[f](d);case 24:return v=e.sent,e.abrupt("return",v);case 28:throw e.prev=28,e.t0=e.catch(21),Ti.IsWarn("TiLoad")&&console.warn("TiLoad Fail: [".concat(f,"]"),'"'.concat(n,'" => "').concat(d,'"')),e.t0;case 32:case"end":return e.stop()}},e,null,[[21,28]])}))).apply(this,arguments)}var n=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(t){return t};_classCallCheck(this,t),this.cached={},this.loading={},this.doLoad=e}return _createClass(t,[{key:"tryLoad",value:function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(e,n){var r,i,a,o,s,u,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.cached[e],_.isUndefined(r)){t.next=4;break}return n(r),t.abrupt("return");case 4:if(i=this.loading[e],!(_.isArray(i)&&i.length>0)){t.next=8;break}return i.push(n),t.abrupt("return");case 8:return this.loading[e]=[n],t.next=11,this.doLoad(e);case 11:a=t.sent,this.cached[e]=a,o=this.loading[e],this.loading[e]=null,s=_createForOfIteratorHelper(o);try{for(s.s();!(u=s.n()).done;)(c=u.value)(a)}catch(t){s.e(t)}finally{s.f()}case 17:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()}]),t}(),r=new n(function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.resolve().then(function(){return _interopRequireWildcard(require("".concat(e)))});case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t.catch(0),Ti.IsWarn("TiLoad")&&console.warn("ti.load.mjs",e,t.t0),t.t0;case 10:case"end":return t.stop()}},t,null,[[0,6]])}));return function(e){return t.apply(this,arguments)}}()),i=new n(function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ti.Http.get(e);case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t.catch(0),Ti.IsWarn("TiLoad")&&console.warn("ti.load.text",e,t.t0),t.t0;case 10:case"end":return t.stop()}},t,null,[[0,6]])}));return function(e){return t.apply(this,arguments)}}()),a={js:function(t){return new Promise(function(e,n){var r=Ti.Dom.find('script[src="'.concat(t,'"]'));r?_.defer(e,r):((r=Ti.Dom.createElement({tagName:"script",props:{src:t}})).addEventListener("load",function(t){e(r)},{once:!0}),r.addEventListener("error",function(t){n(t)},{once:!0}),Ti.Dom.appendToHead(r))})},mjs:function(t){return new Promise(function(e,n){r.tryLoad(t,function(t){e(t.default)})})},css:function(t){return new Promise(function(e,n){var r=Ti.Dom.find('link[href="'.concat(t,'"]'));r?_.defer(e,r):((r=Ti.Dom.createElement({tagName:"link",props:{rel:"stylesheet",type:"text/css",href:t}})).addEventListener("load",function(t){e(r)},{once:!0}),r.addEventListener("error",function(t){n(t)},{once:!0}),Ti.Dom.appendToHead(r))})},json:function(t){return _asyncToGenerator(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.text(t);case 3:return n=e.sent,e.abrupt("return",_.isPlainObject(n)?n:JSON.parse(n));case 7:throw e.prev=7,e.t0=e.catch(0),Ti.IsWarn("TiLoad")&&console.warn("ti.load.json!!",t,e.t0),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,7]])}))()},text:function(t){return new Promise(function(e,n){i.tryLoad(t,e)})}};return{Load:t}}(),Load=_ref59.Load,_ref63=function(){var t={arraybuffer:function(t){throw"No implement yet!"},blob:function(t){throw"No implement yet!"},document:function(t){throw"No implement yet!"},xml:function(t){throw"No implement yet!"},ajax:function(e){var n=t.json(e);if(n.ok)return n.data;throw n},json:function(t){var e=t.responseText,n=_.trim(e)||null;try{return JSON.parse(n)}catch(t){return Ti.Types.safeParseJson(n,n)}},jsonOrText:function(t){var e=t.responseText;try{var n=_.trim(e)||null;return JSON.parse(n)}catch(t){}return e},text:function(t){return t.responseText}},e={send:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ti.IsInfo("TiHttp")&&console.log("TiHttp.send",t,n);var r=n.method,i=void 0===r?"GET":r,a=n.params,o=void 0===a?{}:a,s=n.body,u=void 0===s?null:s,c=n.file,l=void 0===c?null:c,f=n.headers,h=void 0===f?{}:f,d=n.cleanNil,v=void 0===d||d,p=n.progress,g=void 0===p?_.identity:p,m=n.created,y=void 0===m?_.identity:m,b=n.beforeSend,T=void 0===b?_.identity:b,w=n.finished,x=void 0===w?_.identity:w,k=n.readyStateChanged,S=void 0===k?_.identity:k;if(i=_.upperCase(i),v){var C={};Ti.Util.walk(o,{leaf:function(t,e){Ti.Util.isNil(t)||_.set(C,e,t)}}),o=C}var A=Ti.Invoke({GET:function(){var n=e.encodeFormData(o);return{urlToSend:n?t+"?"+n:t}},POST:function(){return _.defaults(h,{"Content-type":"application/x-www-form-urlencoded; charset=utf-8"}),l?{urlToSend:[t,e.encodeFormData(o)].join("?"),sendData:l}:u?{urlToSend:[t,e.encodeFormData(o)].join("?"),sendData:u}:{urlToSend:t,sendData:e.encodeFormData(o)}}}[i])||{urlToSend:t},I=A.urlToSend,O=A.sendData,E=new XMLHttpRequest;if(l){if(!E.upload)throw Ti.Err.make("e.ti.http.upload.NoSupported");E.upload.addEventListener("progress",g)}return y(E),new Promise(function(t,e){E.onreadystatechange=function(){S(E,n),4==E.readyState&&(x(E),200==E.status?t(E):e(E))},E.open(i,I),_.forOwn(h,function(t,e){E.setRequestHeader(e,t)}),T(E),E.send(O)})},sendAndProcess:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.send(n,r).then(function(e){return function(e){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).as,r=void 0===n?"text":n;return Ti.InvokeBy(t,r,[e])}(e,r)})},get:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.sendAndProcess(t,_.assign({},n,{method:"GET"}))},post:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.sendAndProcess(t,_.assign({},n,{method:"POST"}))},encodeFormData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=[];return _.forOwn(t,function(t,n){var r=Ti.Types.toStr(t);e.push("".concat(n,"=").concat(encodeURIComponent(r)))}),e.join("&")}};return{Http:e}}(),Http=_ref63.Http,_ref66=function(){function t(t){var n=_.get(e,t);if(n)return n;if(_.isString(t)){var r=t.replace(/\./g,"-");return e[r]}return t}var e={},n={put:function(t){if(_.isArray(t)){var r,i=_createForOfIteratorHelper(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;n.put(a)}}catch(t){i.e(t)}finally{i.f()}}else if(_.isPlainObject(t)){if(_.isBoolean(t.ok))return void console.warn("invalid msgs",t);_.assign(e,t)}},get:function(e,r){if(e&&e.key&&_.isPlainObject(e))return n.getf(e.key,e.vars);if(e instanceof Error)return e.code?Ti.S.join([n.get(e.code),e.data]," : "):e.message;var i=t(e);return _.isUndefined(i)?_.isUndefined(r)?e:r:i},text:function(t,e){if(t&&t.text&&_.isPlainObject(t))return n.textf(t.text,t.vars);if(t instanceof Error)return n.get(t);var r=/^i18n:(.+)$/.exec(t);return r?n.get(r[1],e):Ti.Util.fallback(t,e)},getf:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(_.isString(e)){var r=t(e)||e;return Ti.S.renderBy(r,n)}return e},textf:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=/^i18n:(.+)$/.exec(t);return r?n.getf(r[1],e):Ti.S.renderBy(t,e)}};return{I18n:n}}(),I18n=_ref66.I18n,_ref67=function(){var t={"7z":"fas-file-archive",apk:"zmdi-android",css:"fab-css3",csv:"fas-file-csv",doc:"far-file-word",docx:"fas-file-word",dmg:"fab-apple",exe:"im-windows-o",gz:"fas-file-archive",hmaker_site:"zmdi-globe-alt",html:"fab-html5",js:"fab-node-js",json:"fas-quote-right",less:"fab-first-order-alt",md:"fab-markdown",mjs:"fab-node-js",mkv:"far-file-video",mp:"fas-file-signature",mp3:"far-file-audio",mp4:"far-file-video",msi:"fab-windows",pdf:"far-file-pdf",py:"fab-python",rar:"fas-file-archive",rss:"fas-rss-square",sass:"fab-first-order",tar:"far-file-archive",tgz:"fas-file-archive",comt:"im-flask",wnml:"fas-file-code",xls:"far-file-excel",xlsx:"fas-file-excel",xml:"far-file-code",zip:"fas-file-archive"},e={audio:"far-file-audio",image:"far-file-image",text:"far-file-alt",video:"far-file-video","text/css":"fab-css3","text/html":"fab-html5","application/x-zip-compressed":"fas-file-archive","application/x-javascript":"fab-js-square","text/javascript":"fab-js-square"},n={add:"zmdi-plus",alert:"zmdi-notifications-none",backward:"zmdi-chevron-left",close:"zmdi-close",confirm:"zmdi-help",create:"zmdi-audio",del:"zmdi-delete",done:"fas-thumbs-up",download:"zmdi-download",edit:"zmdi-edit",error:"zmdi-alert-octagon",forward:"zmdi-chevron-right",help:"zmdi-help-outline",info:"zmdi-info-outline",loading:"fas-spinner fa-spin",processing:"zmdi-settings zmdi-hc-spin",ok:"zmdi-check-circle",prompt:"zmdi-keyboard",refresh:"zmdi-refresh",removed:"far-trash-alt",setting:"zmdi-settings",success:"zmdi-check-circle",track:"zmdi-notifications-none",warn:"zmdi-alert-triangle"},r={FILE:"far-file",DIR:"fas-folder"},i=_objectSpread({},t,{},e,{},r,{},n),a="zmdi-cake",o={put:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=i.types,s=i.mimes,u=i.races,c=i.names,l=i.dft;_.assign(t,o),_.assign(e,s),_.assign(n,c),_.assign(r,u),_.assign(a,l)},get:function(o){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;if(!o)return s||a;if(_.isString(o))return i[o]||s||a;var u=o.tp,c=o.type,l=o.mime,f=o.race,h=o.name,d=null;if(l){var v=/^([a-z0-9]+)\/(.+)$/.exec(l);v&&(d=v[1])}return t[c||u]||e[l]||e[d]||r[f]||n[h]||s||a},getByName:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Ti.Util.fallback(n[t],e,a)},parseFontIcon:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)return e;var n={className:"material-icons",text:t},r=/^([a-z]+)-(.+)$/.exec(t);return r&&(/^fa[a-z]$/.test(r[1])?(n.className=r[1]+" fa-"+r[2],n.text=null):(n.className=r[1]+" "+t,n.text=null)),n},fontIconHtml:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!t)return e;var n=o.parseFontIcon(t);return _.isEmpty(n)?e:'<i class="'.concat(n.className,'">').concat(n.text||"","</i>")}};return{Icons:o}}(),Icons=_ref67.Icons,_ref69=function(){var t=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.key,r=e.everythingOk,i=e.fail,a=e.once,o=void 0!==a&&a;_classCallCheck(this,t),_.assign(this,{key:n,everythingOk:r,fail:i,once:o})}return _createClass(t,[{key:"explode",value:function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.everythingOk();case 2:if(e=t.sent){t.next=7;break}return t.next=6,this.fail();case 6:return t.abrupt("return",!1);case 7:return t.abrupt("return",!0);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),t}(),e=function(){function e(){_classCallCheck(this,e),this.detonators=[]}return _createClass(e,[{key:"fire",value:function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(){var e,n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=_createForOfIteratorHelper(this.detonators),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=12;break}return r=n.value,t.next=7,r.explode();case 7:if(!t.sent){t.next=9;break}return t.abrupt("continue",10);case 9:return t.abrupt("return",!1);case 10:t.next=3;break;case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),e.e(t.t0);case 17:return t.prev=17,e.f(),t.finish(17);case 20:return _.remove(this.detonators,function(t){return t.once}),t.abrupt("return",!0);case 22:case"end":return t.stop()}},t,this,[[1,14,17,20]])}));return function(){return t.apply(this,arguments)}}()},{key:"add",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_.defaults(e,{key:"det-"+this.detonators.length}),e instanceof t?this.detonators.push(e):this.detonators.push(new t(e))}},{key:"remove",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];_.pullAllWith(this.detonators,e,function(t,e){return t.key==e})}},{key:"clear",value:function(){this.detonators=[]}}]),e}();return{Fuse:new(function(){function t(){_classCallCheck(this,t),this.fuses={}}return _createClass(t,[{key:"get",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this.fuses[t]}},{key:"getOrCreate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main",n=this.get(t);return n||(n=new e,this.fuses[t]=n),n}},{key:"fire",value:function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(){var e,n,r=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r.length>0&&void 0!==r[0]?r[0]:"main",n=this.get(e)){t.next=4;break}return t.abrupt("return",!0);case 4:return t.next=6,n.fire();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"removeFuse",value:function(t){var e=this.get(t);return e&&delete this[t],e}},{key:"clear",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main",e=this.get(t);return e&&e.clear(),e}}]),t}())}}(),Fuse=_ref69.Fuse,_ref71=function(){var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".split("");return{Random:{str:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r="",i=0;i<e;i++){r+=n[_.random(0,t.length-1)]}return r},obj:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:t)[_.random(0,t.length-1)]},list:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.length,n=Math.min(e,t.length)-1;n>0;n--){var r=_.random(0,n),i=t[n],a=t[r];t[n]=a,t[r]=i}return t}}}}(),Random=_ref71.Random,_ref72=function(){var t=function(){function t(e){_classCallCheck(this,t),this.storage=e}return _createClass(t,[{key:"get",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_.identity,r=this.storage.getItem(t);return Ti.Util.isNil(r)?e:n(r)}},{key:"getString",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.get(t,e)}},{key:"getObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.get(t,e,function(t){return JSON.parse(t)})}},{key:"getInt",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return this.get(t,e,function(t){return parseInt(t)})}},{key:"getBoolean",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.get(t,e,function(t){return!!/^(true|yes|on|ok)$/.test(t)})}},{key:"getNumber",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return this.get(t,e,function(t){return 1*t})}},{key:"set",value:function(t,e){if(_.isNull(e)||_.isUndefined(e))this.remove(t);else{var n=e+"";this.storage.setItem(t,n)}}},{key:"setObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(_.isNull(e)||_.isUndefined(e))&&this.remove(t);var n=JSON.stringify(e);this.storage.setItem(t,n)}},{key:"mergeObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getObject(t);_.merge(n,e),this.setObject(t,n)}},{key:"remove",value:function(t){this.storage.removeItem(t)}},{key:"clear",value:function(){this.storage.clear()}}]),t}();return{Storage:{session:new t(window.sessionStorage),local:new t(window.localStorage)}}}(),Storage=_ref72.Storage,_ref73=function(){var t={genActionInvoking:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.$com,r=e.argContext,i=void 0===r?{}:r,a=e.wait,o=void 0===a?0:a,s=function(t){return o>0?_.debounce(t,o,{leading:!0}):t},u=function(t){return _.isFunction(t)?t():t};if(_.isFunction(t))return s(t);var c,l,f;if(_.isString(t)){var h=/^((global|commit|dispatch|root|main|\$\w+):|=>)([^()]+)(\((.*)\))?$/.exec(t);if(!h)throw Ti.Err.make("e.action.invalid : "+t,{action:t});c=h[2]||h[1],l=h[3],f=h[5]}else _.isPlainObject(t)&&(c=t.mode,l=t.name,f=t.args);var d,v=Ti.S.joinArgs(f,[],function(t){return Ti.S.toJsValue(t,{context:i})});if("=>"==c){var p=_.get(window,l);if(!_.isFunction(p))throw Ti.Err.make("e.action.invoke.NotFunc : "+t,{action:t});d=function(){var t=u(n);p.apply(t,v)}}else d="$emit"==c||"$notify"==c?function(){var e=u(n);if(!e)throw Ti.Err.make("e.action.emit.NoCom : "+t,{action:t});e[c].apply(e,[l].concat(_toConsumableArray(v)))}:"$parent"==c?function(){var e=u(n),r=e[l];if(!_.isFunction(r))throw Ti.Err.make("e.action.call.NotFunc : "+t,{action:t});r.apply(e,v)}:function(){var t=u(n),e=Ti.App(t),r=e[c],i=_.concat(l,v);r.apply(e,i)};if(!_.isFunction(d))throw Ti.Err.make("e.invalid.action : "+t,{action:t});return s(d)},getUniqueKey:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.sep,r=void 0===n?"+":n,i=e.mode,a=void 0===i?"upper":i,o=[];t.altKey&&o.push("ALT"),t.ctrlKey&&o.push("CTRL"),t.metaKey&&o.push("META"),t.shiftKey&&o.push("SHIFT");var s=Ti.S.toCase(t.key,a);return/^(ALT|CTRL|CONTROL|SHIFT|META)$/.test(s)||o.push(" "===s?"SPACE":s),o.join(r)},startListening:function(){this.isListening||(window.addEventListener("keydown",function(e){var n=t.getUniqueKey(e),r=Ti.App.topInstance();r&&r.fireShortcut(n,e)}),this.isListening=!0)}};return{Shortcut:t}}(),Shortcut=_ref73.Shortcut,_ref76={TiWebsocket:{listenRemote:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.watchTo,n=void 0===e?null:e,r=t.watched,i=void 0===r?_.identity:r,a=t.received,o=void 0===a?_.identity:a,s=t.closed,u=void 0===s?_.identity:s,c=t.error,l=void 0===c?_.identity:c,f=window.location.hostname,h=window.location.port,d={"http:":"ws","https:":"wss"}[window.location.protocol],v=[f];h>80&&v.push(h);var p="".concat(d,"://").concat(v.join(":"),"/websocket"),g=new WebSocket(p);return _.isPlainObject(n)&&(g.onmessage=function(t){var e=JSON.parse(t.data);if("hi"==e.event){var r=JSON.stringify(n);this.send(r)}else"watched"==e.event?i(e):o(e)}),g.onclose=u,g.onerror=l,g}}},TiWebsocket=_ref76.TiWebsocket,_ref78=function(){var t={notNil:function(t){return!Ti.Util.isNil(t)},notEmpty:function(t){return!_.isEmpty(t)},notBlank:function(t){return!Ti.S.isBlank(t)},isNil:function(t){return Ti.Util.isNil(t)},isEmpty:function(t){return _.isEmpty(t)},isBlank:function(t){return Ti.S.isBlank(t)},isPlainObject:function(t){return _.isPlainObject(t)},isBoolean:function(t){return _.isBoolean(t)},isTrue:function(t){return!0===t},isFalse:function(t){return!1===t},isTruthy:function(t){return!!t},isFalsy:function(t){return!t},isNumber:function(t){return _.isNumber(t)},isString:function(t){return _.isString(t)},isDate:function(t){return _.isDate(t)},inRange:function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(e=_).inRange.apply(e,[t].concat(r))},isMatch:function(t,e){return _.isMatch(t,e)},isEqual:function(t,e){return _.isEqual(t,e)},isOf:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(_.isEqual(o,t))return!0}return!1},matchRegex:function(t,e){return _.isRegExp(e)?e.test(t):new RegExp(e).test(t)}},e={get:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;_.isFunction(e)&&(e=e());var i=_.get(t,e);if(!_.isFunction(i))throw"Invalid Validate: ".concat(e);var a;if(_.isEmpty(n))a=i;else{var o;a=(o=_).partialRight.apply(o,[i].concat(_toConsumableArray(n)))}return r?function(t){return!a(t)}:a},evalBy:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=!1;e.startsWith("!")&&(r=!0,e=_.trim(e.substring(1)));var i=Ti.Util.genInvoking(e,{context:n,funcSet:t,partialRight:!0});if(!_.isFunction(i))throw'Invalid TiValidator: "'.concat(e,'"');return r?function(t){return!i(t)}:i},getBy:function(t){if(_.isFunction(t))return t;if(_.isString(t))return e.evalBy(t);if(_.isPlainObject(t)){var n=t.name,r=_.isUndefined(t.args)?[]:[].concat(t.args),i=t.not;return e.get(n,r,i)}if(_.isArray(t)&&t.length>0){var a=t[0],o=t.slice(1,t.length);return e.get(a,o)}},checkBy:function(t,n){var r=e.getBy(t);return!!_.isFunction(r)&&!!r(n)},match:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t||_.isEmpty(t))return r;if(_.isFunction(n))return!!n(t);if(_.isBoolean(n))return!!n;if(_.isArray(n)){var i,a=_createForOfIteratorHelper(n);try{for(a.s();!(i=a.n()).done;){var o=i.value;if(Ti.Validate.match(t,o,r))return!0}}catch(t){a.e(t)}finally{a.f()}return!1}var s,u=_createForOfIteratorHelper(_.keys(n));try{for(u.s();!(s=u.n()).done;){var c=s.value,l=_.get(n,c),f=_.get(t,c);if(!e.checkBy(l,f))return!1}}catch(t){u.e(t)}finally{u.f()}return!0}};return{Validate:e}}(),Validate=_ref78.Validate,_ref81=function(){var TiTime=function(){function t(e,n){_classCallCheck(this,t),this.hours=0,this.minutes=0,this.seconds=0,this.milliseconds=0,this.__cached={},this.update(e,n)}return _createClass(t,[{key:"clone",value:function(){return new t(this)}},{key:"setHours",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.__cached={},this.hours=_.clamp(t,0,23)}},{key:"setMinutes",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.__cached={},this.minutes=_.clamp(t,0,59)}},{key:"setSeconds",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.__cached={},this.seconds=_.clamp(t,0,59)}},{key:"setMilliseconds",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.__cached={},this.milliseconds=_.clamp(t,0,999)}},{key:"setTimes",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.hours,n=t.minutes,r=t.seconds,i=t.milliseconds;this.__cached={},this.hours=_.clamp(Ti.Util.fallback(e,this.hours),0,23),this.minutes=_.clamp(Ti.Util.fallback(n,this.minutes),0,59),this.seconds=_.clamp(Ti.Util.fallback(r,this.seconds),0,59),this.milliseconds=_.clamp(Ti.Util.fallback(i,this.milliseconds),0,999)}},{key:"update",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ms";if(this.__cached={},_.isDate(e))this.hours=e.getHours(),this.minutes=e.getMinutes(),this.seconds=e.getSeconds(),this.milliseconds=e.getMilliseconds();else if(e instanceof t)this.hours=e.hours,this.minutes=e.minutes,this.seconds=e.seconds,this.milliseconds=e.milliseconds;else if(_.isNumber(e)){var r={ms:function(t){return t},s:function(t){return Math.round(1e3*t)},min:function(t){return Math.round(1e3*t*60)},hr:function(t){return Math.round(1e3*t*60*60)}}[n](e);r=_.clamp(r,0,864e5);var i=parseInt(r/1e3);this.milliseconds=r-1e3*i,this.hours=parseInt(i/3600),i-=3600*this.hours,this.minutes=parseInt(i/60),this.seconds=i-60*this.minutes}else if(_.isString(e)){var a=/^([0-9]{1,2}):?([0-9]{1,2})(:?([0-9]{1,2})([.,]([0-9]{1,3}))?)?$/.exec(e);a&&(a[3]?a[5]?(this.hours=_.clamp(parseInt(a[1]),0,23),this.minutes=_.clamp(parseInt(a[2]),0,59),this.seconds=_.clamp(parseInt(a[4]),0,59),this.milliseconds=_.clamp(parseInt(a[6]),0,999)):(this.hours=_.clamp(parseInt(a[1]),0,23),this.minutes=_.clamp(parseInt(a[2]),0,59),this.seconds=_.clamp(parseInt(a[4]),0,59),this.milliseconds=0):(this.hours=_.clamp(parseInt(a[1]),0,23),this.minutes=_.clamp(parseInt(a[2]),0,59),this.seconds=0,this.milliseconds=0))}return this}},{key:"toString",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"auto";"auto"==e?e=this.milliseconds>0?"HH:mm:ss.SSS":this.seconds>0?"HH:mm:ss":"HH:mm":"min"==e&&(e=this.hours<=0?"mm:ss":"HH:mm:ss");for(var n,r="",i=/a|HH?|KK?|hh?|kk?|mm?|ss?|S(SS)?/g,a=0;n=i.exec(e);){var o=n.index;o>a&&(r+=e.substring(a,o)),a=i.lastIndex;r+={a:function(){return t.value>43200?"PM":"AM"},H:function(){return t.hours},k:function(){return t.hours+1},K:function(){return t.hours%12},h:function(){return t.hours%12+1},m:function(){return t.minutes},s:function(){return t.seconds},S:function(){return t.milliseconds},HH:function(){return _.padStart(t.hours,2,"0")},kk:function(){return _.padStart(t.hours+1,2,"0")},KK:function(){return _.padStart(t.hours%12,2,"0")},hh:function(){return _.padStart(t.hours%12+1,2,"0")},mm:function(){return _.padStart(t.minutes,2,"0")},ss:function(){return _.padStart(t.seconds,2,"0")},SSS:function(){return _.padStart(t.milliseconds,3,"0")}}[n[0]]()}return a<e.length&&(r+=e.substring(a)),r}},{key:"value",get:function(){if(!_.isNumber(this.__cached.value)){var t=3600*this.hours+60*this.minutes+this.seconds+Math.round(this.milliseconds/1e3);this.__cached.value=t}return this.__cached.value}},{key:"valueInMilliseconds",get:function(){if(!_.isNumber(this.__cached.valueInMilliseconds)){var t=36e5*this.hours+6e4*this.minutes+1e3*this.seconds+this.milliseconds;this.__cached.valueInMilliseconds=t}return this.__cached.valueInMilliseconds}}]),t}(),QUICK_COLOR_TABLE={red:[255,0,0,1],green:[0,255,0,1],blue:[0,0,255,1],yellow:[255,255,0,1],black:[0,0,0,1],white:[255,255,255,1]},TiColor=function(){function t(e){_classCallCheck(this,t),this.red=0,this.green=0,this.blue=0,this.alpha=1,this.__cached={},this.update(e)}return _createClass(t,[{key:"clone",value:function(){return new t([this.red,this.green,this.blue,this.alpha])}},{key:"setRGBA",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.r,n=t.g,r=t.b,i=t.a;this.__cached={},_.isNumber(e)&&(this.red=_.clamp(e,0,255)),_.isNumber(n)&&(this.green=_.clamp(n,0,255)),_.isNumber(r)&&(this.blue=_.clamp(r,0,255)),_.isNumber(i)&&(this.alpha=_.clamp(i,0,1))}},{key:"update",value:function(e){if(this.__cached={},_.isString(e)){var n=QUICK_COLOR_TABLE[e.toLowerCase()];if(n)this.red=n[0],this.green=n[1],this.blue=n[2],this.alpha=n[3];else{var r,i=e.replace(/[ \t\r\n]+/g,"").toUpperCase();(r=/^#?([0-9A-F])([0-9A-F])([0-9A-F]);?$/.exec(i))?(this.red=parseInt(r[1]+r[1],16),this.green=parseInt(r[2]+r[2],16),this.blue=parseInt(r[3]+r[3],16)):(r=/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2});?$/.exec(i))?(this.red=parseInt(r[1],16),this.green=parseInt(r[2],16),this.blue=parseInt(r[3],16)):(r=/^RGB\((\d+),(\d+),(\d+)\)$/.exec(i))?(this.red=parseInt(r[1],10),this.green=parseInt(r[2],10),this.blue=parseInt(r[3],10)):(r=/^RGBA\((\d+),(\d+),(\d+),([\d.]+)\)$/.exec(i))?(this.red=parseInt(r[1],10),this.green=parseInt(r[2],10),this.blue=parseInt(r[3],10),this.alpha=1*r[4]):(r=/^0[xX]([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2});?$/.exec(i))&&(this.alpha=parseInt(r[1],16)/255,this.red=parseInt(r[2],16),this.green=parseInt(r[3],16),this.blue=parseInt(r[4],16))}}else if(_.isNumber(e)){var a=_.clamp(Math.round(e),0,255);this.red=a,this.green=a,this.blue=a,this.alpha=1}else _.isArray(e)&&e.length>=3?(this.red=_.clamp(Math.round(e[0]),0,255),this.green=_.clamp(Math.round(e[1]),0,255),this.blue=_.clamp(Math.round(e[2]),0,255),this.alpha=e.length>3?e[3]:1):e instanceof t&&(this.red=e.red,this.green=e.green,this.blue=e.blue,this.alpha=e.alpha);return this}},{key:"light",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;this.red=_.clamp(this.red+t,0,255),this.green=_.clamp(this.green+t,0,255),this.blue=_.clamp(this.blue+t,0,255)}},{key:"dark",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;this.red=_.clamp(this.red-t,0,255),this.green=_.clamp(this.green-t,0,255),this.blue=_.clamp(this.blue-t,0,255)}},{key:"between",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;_objectDestructuringEmpty(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),n=_.clamp(n,0,1);var r=e.red-this.red,i=e.green-this.green,a=e.blue-this.blue,o=e.alpha-this.alpha,s=this.red+r*n,u=this.green+i*n,c=this.blue+a*n,l=this.alpha+o*n;return new t([_.clamp(Math.round(s),0,255),_.clamp(Math.round(u),0,255),_.clamp(Math.round(c),0,255),_.clamp(l,0,1)])}},{key:"adjustByHSL",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.h,n=void 0===e?0:e,r=t.s,i=void 0===r?0:r,a=t.l,o=void 0===a?0:a,s=this.toHSL();return s.h=_.clamp(s.h+n,0,1),s.s=_.clamp(s.s+i,0,1),s.l=_.clamp(s.l+o,0,1),this.fromHSL(s)}},{key:"toHSL",value:function(){var t=this.red,e=this.green,n=this.blue;t/=255,e/=255,n/=255;var r,i,a=Math.max(t,e,n),o=Math.min(t,e,n),s=(a+o)/2;if(a===o)r=i=0;else{var u=a-o;switch(i=s>.5?u/(2-a-o):u/(a+o),a){case t:r=(e-n)/u+(e<n?6:0);break;case e:r=(n-t)/u+2;break;case n:r=(t-e)/u+4}r/=6}return{h:r,s:i,l:s}}},{key:"fromHSL",value:function(){var t,e,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.h,a=r.s,o=r.l,s=function(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t};if(0===a)t=e=n=o;else{var u=o<.5?o*(1+a):o+a-o*a,c=2*o-u;t=s(c,u,i+1/3),e=s(c,u,i),n=s(c,u,i-1/3)}return this.red=Math.round(255*t),this.green=Math.round(255*e),this.blue=Math.round(255*n),this}},{key:"toString",value:function(){return 1==this.alpha?this.hex:this.rgba}},{key:"hex",get:function(){if(!this.__cached.hex){var t=["#"];t.push(_.padStart(this.red.toString(16).toUpperCase(),2,"0")),t.push(_.padStart(this.green.toString(16).toUpperCase(),2,"0")),t.push(_.padStart(this.blue.toString(16).toUpperCase(),2,"0")),this.__cached.hex=t.join("")}return this.__cached.hex}},{key:"rgb",get:function(){if(!this.__cached.rgb){var t=[this.red,this.green,this.blue];this.__cached.rgb="RGB(".concat(t.join(","),")")}return this.__cached.rgb}},{key:"rgba",get:function(){if(!this.__cached.rgba){var t=[this.red,this.green,this.blue,this.alpha];return"RGBA(".concat(t.join(","),")")}return this.__cached.rgba}}]),t}(),TiTypes={toStr:function(t,e,n){if(_.isFunction(e))return e(t)||n;if(Ti.Util.isNil(t))return Ti.Util.fallback(n,null);if(_.isNumber(t)){if(_.isArray(e))return Ti.Util.fallback(_.nth(e,t),t);if(_.isString(e))return Ti.S.renderVars(t,e);var r=""+t;return _.isPlainObject(e)?e[r]:r}if(_.isString(t))return _.isPlainObject(e)?Ti.Util.getOrPick(e,t):_.isString(e)?Ti.S.renderVars(t,e):t;if(_.isArray(t))return t.join(e||",");if(_.isBoolean(t))return(e||["false","true"])[1*t];if(_.isDate(t))return TiTypes.formatDateTime(t,e);if(t instanceof TiTime)return t.toString(e);if(t instanceof TiColor)return t.toString();if(_.isPlainObject(t)){if(!Ti.S.isBlank(e)){if(_.isString(e))return Ti.S.renderVars(t,e);_.isPlainObject(e)&&(t=Ti.Util.translate(t,e))}return JSON.stringify(t,null,e)}return""+t},toNumber:function(t){if(_.isBoolean(t))return t?1:0;if(_.isDate(t))return t.getTime();var e=1*t;return isNaN(e)?NaN:e},toInteger:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.mode,r=void 0===n?"int":n,i=e.dft,a=void 0===i?NaN:i,o=e.range,s=void 0===o?[]:o,u=e.border,c=void 0===u?[!0,!0]:u;if(_.isBoolean(t))return t?1:0;if(_.isDate(t))return t.getTime();var l={round:function(t){return Math.round(t)},ceil:function(t){return Math.ceil(t)},floor:function(t){return Math.floor(t)},int:function(t){return parseInt(t)}}[r](t);if(isNaN(l)&&(l=a),_.isArray(s)&&2==s.length){_.isArray(c)||(c=[c,c]);var f=_slicedToArray(c,2),h=f[0],d=f[1],v=_slicedToArray(s,2),p=v[0],g=v[1];if(isNaN(l))return Math.round((p+g)/2);if(!_.isNull(p)){if(h&&l<p)return p;if(!h&&l<=p)return p+1}if(!_.isNull(g)){if(d&&l>g)return g;if(!d&&l>=g)return g-1}}return l},toFloat:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.precision,r=void 0===n?2:n,i=e.dft,a=void 0===i?NaN:i,o=1*t;if(isNaN(o))return a;if(r>=0){var s=Math.pow(10,r);return Math.round(o*s)/s}return o},toPercent:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.fixed,r=void 0===n?2:n,i=e.auto,a=void 0===i||i;return Ti.S.toPercent(t,{fixed:r,auto:a})},toBoolean:function(t){return 0!=t&&(!_.isNull(t)&&!_.isUndefined(t)&&!/^(no|off|false)$/i.test(t))},toBoolStr:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"No",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Yes";return t?n:e},toObject:function(t,e){var n=t;return _.isPlainObject(t)&&_.isPlainObject(e)?Ti.Util.translate(n,e):_.isArray(t)?Ti.S.toObject(t,e):_.isString(t)?((/^\{.*\}$/.test(t)||/^\[.*\]$/.test(t))&&(n=JSON.parse(t)),Ti.S.toObject(t,e)):n},toObjByPair:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.nameBy,r=void 0===n?"name":n,i=e.valueBy,a=void 0===i?"value":i,o=e.dft,s=void 0===o?{}:o,u=t[r],c=t[a],l=_.assign({},s);if(_.isString(u))l[u]=c;else if(_.isArray(u)){var f,h=_createForOfIteratorHelper(u);try{for(h.s();!(f=h.n()).done;){var d=f.value;l[d]=c[d]}}catch(t){h.e(t)}finally{h.f()}}return l},toArray:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).sep,n=void 0===e?/[ ,;\/\r\n]+/:e;if(Ti.Util.isNil(t))return t;if(_.isArray(t))return t;if(_.isString(t)){if(_.isRegExp(n)){for(var r=t.split(n),i=0;i<r.length;i++)r[i]=_.trim(r[i]);return _.without(r,void 0,null,"")}return[t]}},toDate:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(_.isNull(t)||_.isUndefined(t))return e;if(_.isArray(t)){var n=[];return _.forEach(t,function(t){n.push(Ti.DateTime.parse(t))}),n}return Ti.DateTime.parse(t)},toTime:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.dft,r=e.unit;return _.isNull(t)||_.isUndefined(t)?n:new TiTime(t,r)},toColor:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new TiColor;return _.isNull(t)||_.isUndefined(t)?e:t instanceof TiColor?t:new TiColor(t)},toAMS:function(t){var e=Ti.DateTime.parse(t);return _.isDate(e)?e.getTime():null},toJson:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"  ";return JSON.stringify(t,null,e)},safeParseJson:function safeParseJson(str,dft){if(Ti.Util.isNil(str))return null;if(!_.isString(str))return str;try{return JSON.parse(str)}catch(E){var json=str.replace(/(function|=>)/g,"Function");try{return eval("("+json+")")}catch(t){}}return dft},formatTime:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto";if(_.isUndefined(t)||_.isNull(t))return"";if(_.isArray(t)){var n,r=[],i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;r.push(TiTypes.formatTime(a,e))}}catch(t){i.e(t)}finally{i.f()}return r}return t instanceof TiTime||(t=new TiTime(t)),t.toString(e)},formatDate:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd";return Ti.DateTime.format(t,e)},formatDateTime:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd HH:mm:ss";return Ti.DateTime.format(t,e)},toAjaxReturn:function(t,e){var n=t;if(_.isString(t))try{n=JSON.parse(t)}catch(t){return{ok:!1,errCode:"e.invalid.json_format",data:e}}return _.isBoolean(n.ok)?n:{ok:!0,data:n}},Time:TiTime,Color:TiColor,getFuncByType:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"String",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"transformer";return _.get({String:{transformer:"toStr",serializer:"toStr"},Number:{transformer:"toNumber",serializer:"toNumber"},Integer:{transformer:"toInteger",serializer:"toInteger"},Float:{transformer:"toFloat",serializer:"toFloat"},Boolean:{transformer:"toBoolean",serializer:"toBoolean"},Object:{transformer:"toObject",serializer:"toObject"},Array:{transformer:"toArray",serializer:"toArray"},DateTime:{transformer:"toDate",serializer:"formatDateTime"},AMS:{transformer:"toDate",serializer:"toAMS"},Time:{transformer:"toTime",serializer:"formatTime"},Date:{transformer:"toDate",serializer:"formatDate"},Color:{transformer:"toColor",serializer:"toStr"}},"".concat(t,".").concat(e))},getFuncBy:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:TiTypes,r=TiTypes.evalFunc(t[e],n);if(_.isFunction(r))return r;if(!r&&t.type&&(r=TiTypes.getFuncByType(t.type,e)),_.isString(r))return _.get(n,r);if(_.isPlainObject(r)&&r.name){var i=_.get(n,r.name);if(!_.isFunction(i))return;if(_.isArray(r.args)&&r.args.length>0){var a;return(a=_).partialRight.apply(a,[i].concat(_toConsumableArray(r.args)))}return _.isUndefined(r.args)||_.isNull(r.args)?i:_.partialRight(i,r.args)}},getFunc:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return TiTypes.getFuncBy(t,e)},evalFunc:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:TiTypes;if(_.isFunction(t))return t;if(_.isString(t))return _.get(e,t);if(_.isPlainObject(t)&&t.name){var n=_.get(e,t.name);if(!_.isFunction(n))return;if(_.isArray(t.args)&&t.args.length>0){var r;return(r=_).partialRight.apply(r,[n].concat(_toConsumableArray(t.args)))}return _.isUndefined(t.args)||_.isNull(t.args)?n:_.partialRight(n,t.args)}},getJsType:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Object";return _.isUndefined(t)?e:_.isNull(t)?"Object":_.isNaN(t)?"Number":_.isNumber(t)?parseInt(t)==t?"Integer":"Number":_.isBoolean(t)?"Boolean":_.isString(t)?"String":_.isArray(t)?"Array":"Object"}};return{TiTime:TiTime,TiColor:TiColor,Types:TiTypes}}(),Types=_ref81.Types,_ref95=function(){var t=_objectSpread({},function(){var t={getLinkName:function(e){var n=e.lastIndexOf("/"),r=e.lastIndexOf(":"),i=Math.max(n,r),a=i>=0?e.substring(i+1):e;return t.getMajorName(a)},getFileName:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!t)return e;var n=t.lastIndexOf("/");return n>=0?t.substring(n+1):t},getMajorName:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!t)return e;for(var n=t.length,r=0,i=n,a=i-1;a>0;a--)if(i==n&&"."==t[a]&&(i=a),"/"==t[a]||"\\"==t[a]){r=a+1;break}return t.substring(r,i)},getSuffixName:function(t,e){if(!t)return"";var n=t.lastIndexOf("."),r=t.lastIndexOf("/");if(-1==n||n<r)return"";var i=t.substring(n+1);return e?i.toLowerCase():i},getSuffix:function(t,e){if(!t)return"";var n=t.lastIndexOf("."),r=t.lastIndexOf("/");if(-1==n||n<r)return"";var i=t.substring(n);return e?i.toLowerCase():i},appendPath:function(){for(var t=[],e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(!_.isEmpty(o)){var s=/\/*$/.exec(o);s&&(o=o.substring(0,s.index)),t.length>0&&!/^\//.test(o)&&t.push("/"),t.push(o)}}return t.join("")},getParentPath:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!t||t.endsWith("/"))return t;var e=t.lastIndexOf("/");return e<0?"":t.substring(0,e+1)},getRelativePath:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(_.isEqual(t,e))return n;for(var r=t.endsWith("/"),i=e.endsWith("/"),a=_.without(t.split("/"),""),o=_.without(e.split("/"),""),s=Math.min(a.length,o.length),u=0;u<s;u++){if(a[u]!=o[u])break}var c=[],l=a.length;r||l--;for(var f=u;f<l;f++)c.push("..");for(var h=u;h<o.length;h++)c.push(o[h]);return i&&c.push(""),c.join("/")},explainEventName:function(t){var e={},n=/^(([^>]+)>)?(.+)$/.exec(t);return n&&(e.block=_.trim(n[2]),e.event=_.trim(n[3])),e},parseHref:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=/^((https?):)?((\/\/([^/:]+))(:(\d+))?)?([^?]*)(\?([^#]*))?(#(.*))?$/.exec(t);if(e){var n={href:t,protocol:e[2],host:e[5],port:1*(e[7]||80),path:e[8],search:e[9],query:e[10],hash:e[11],anchor:e[12]};if(n.query){var r,i={},a=_createForOfIteratorHelper(n.query.split("&"));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.indexOf("=");if(s>0){var u=o.substring(0,s),c=o.substring(s+1);i[u]=decodeURIComponent(c)}else i[o]=!0}}catch(t){a.e(t)}finally{a.f()}n.params=i}return n}return{path:t}}};return t}(),{},function(){var t=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.url,r=e.params;_classCallCheck(this,t),this.url=n,this.params=r,this.__S=null,this.set({url:n,params:r})}return _createClass(t,[{key:"set",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.url,n=void 0===e?"":e,r=t.params,i=void 0===r?{}:r;return this.url=n,this.params=i,this.__S=null,this}},{key:"valueOf",value:function(){return this.toString()}},{key:"toString",value:function(){if(!this.__S){var t=[this.url],e=[];_.forEach(this.params,function(t,n){e.push("".concat(n,"=").concat(t))}),e.length>0&&t.push(e.join("&")),this.__S=t.join("?")}return this.__S}}]),t}();return{Link:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.url,r=e.params;return new t({url:n,params:r})}}}(),{merge:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.mergeWith.apply(t,[void 0,e].concat(r))},mergeWith:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_.identity,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];var o,s=_createForOfIteratorHelper(_.flattenDeep(i));try{for(s.s();!(o=s.n()).done;){var u=o.value;if(u){var c=e(u);_.isArray(c)?t.merge.apply(t,[n].concat(_toConsumableArray(c))):_.isFunction(c)?n[c.name]=c:_.isPlainObject(c)&&_.merge(n,c)}}}catch(t){s.e(t)}finally{s.f()}return n},deepMergeObj:function(){for(var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(t=_).mergeWith.apply(t,[e].concat(r,[function(t,e){if(_.isArray(t)||_.isArray(e))return e}]))},grouping:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.titles,i=void 0===r?[]:r,a=n.otherTitle,o=void 0===a?{value:"Others",text:"Others"}:a,s=n.asList,u=void 0!==s&&s,c={},l=[];_.forEach(i,function(t){t.text&&!Ti.Util.isNil(t.value)&&(l[t.value]=t)});var f=[];return _.forEach(t,function(t){var n=_.get(t,e);if(n){var r=l[n]||{text:n,value:n},i=c[n];i||(i=_objectSpread({},r,{list:[]}),c[n]=i),i.list.push(t)}else f.push(t)}),_.isEmpty(f)||(c[o.value]=_objectSpread({},o,{list:f})),u?_.values(c):c},insertToArray:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(!_.isArray(t)||_.isEmpty(r))return-1;if(_.isEmpty(t))return t.push.apply(t,r),0;var a=Ti.Num.scrollIndex(e,t.length+1);if(0==a)t.unshift.apply(t,r);else if(t.length==a)t.push.apply(t,r);else{for(var o=r.length,s=t.length-1;s>=a;s--)t[s+o]=t[s];for(var u=0;u<o;u++)t[a+u]=r[u]}return a},appendToObject:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={};return _.forEach(t,function(t,i){r[i]=t,e==i&&_.assign(r,n)}),r},walk:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.root,r=void 0===n?_.identity:n,i=e.all,a=void 0===i?_.identity:i,o=e.leaf,s=void 0===o?_.identity:o,u=e.node,c=void 0===u?_.identity:u;!function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=_.isArray(e),o=_.isPlainObject(e);if(a(e,n),i||o?_.isEmpty(n)?r(e,n):c(e,n):s(e,n),i)for(var u=0;u<e.length;u++)t(e[u],n.concat(u));else if(o){var l,f=_createForOfIteratorHelper(_.keys(e));try{for(f.s();!(l=f.n()).done;){var h=l.value;t(e[h],n.concat(h))}}catch(t){f.e(t)}finally{f.f()}}}(t)},inset:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_.identity,r=[],i=_createForOfIteratorHelper(e);try{for(i.s();!(t=i.n()).done;){var a=n(t.value);if(_.isArray(a)&&!_.isEmpty(a)){var o,s=_createForOfIteratorHelper(a);try{for(s.s();!(o=s.n()).done;){var u=o.value;r.push(u)}}catch(t){s.e(t)}finally{s.f()}}_.isUndefined(a)||r.push(a)}}catch(t){i.e(t)}finally{i.f()}return r},explainObj:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.evalFunc,i=void 0!==r&&r,a=n.iteratee,o=void 0===a?_.identity:a;return function e(n){var r=n;if(_.isString(r)){var a=/^:((=|==|!=|=>|->)(.+))$/.exec(r);if(a)return o(a[1]);var s,u,c;if((a=/^(==|!=|=>|->)(.+)$/.exec(r))?(s=a[1],u=_.trim(a[2])):(a=/^(=)([^?]+)(\?(.*))?$/.exec(r))&&(s=a[1],u=_.trim(a[2]),c=a[4]),s){Ti.Util.isNil(c)||(c=_.trim(c));var l={"==":function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(e){return!!_.get(t,e)}),"!=":function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(e){return!_.get(t,e)}),"=":function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(e,n){if(".."==e)return t;var r=Ti.Util.getOrPick(t,e);return Ti.Util.isNil(r)&&!_.isUndefined(n)?n:r}),"=>":function(e){return Ti.Util.genInvoking(e,{context:t})()},"->":function(e){return Ti.S.renderBy(e,t)}}[s];if(_.isFunction(l))return l(u,c);throw"invalid dynamic value: "+r}return o(r)}if(_.isFunction(r)){if(i){var f=r(t);return o(f)}return r}if(_.isArray(r)){var h,d=[],v=_createForOfIteratorHelper(r);try{for(v.s();!(h=v.n()).done;){var p=h.value,g=e(p);d.push(o(g))}}catch(t){v.e(t)}finally{v.f()}return d}if(_.isPlainObject(r)){var m={};return _.forEach(r,function(t,n){var r=e(t),i=o(r);"..."==n?_.assign(m,i):m[n]=i}),m}return o(n)}(e)},genObj:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.partial(_.cloneDeep,t)},groupCall:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=_.flattenDeep(e).filter(function(t){return _.isFunction(t)});if(0!=r.length)return 1==r.length?r[0]:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i,a=_createForOfIteratorHelper(r);try{for(a.s();!(i=a.n()).done;){i.value.apply(this,e)}}catch(t){a.e(t)}finally{a.f()}}},pushValue:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=_.get(t,e)||[];r?t[e]=_.concat(i,n||[]):_.set(t,e,_.concat(i,n||[]))},pushValueBefore:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=_.get(t,e)||[];r?t[e]=_.concat(n||[],i):_.set(t,e,_.concat(n||[],i))},pushUniqValue:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=_.get(t,e)||[];r?t[e]=_.uniq(_.concat(i,n||[])):_.set(t,e,_.uniq(_.concat(i,n||[])))},pushUniqValueBefre:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=_.get(t,e)||[];r?t[e]=_.uniq(_.concat(n||[],i)):_.set(t,e,_.uniq(_.concat(n||[],i)))},setTo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;_.isString(e)&&!_.isUndefined(n)?t[e]=_.isNull(n)?r:n:_.isPlainObject(e)&&(r=n,_.forOwn(e,function(e,n){_.isUndefined(e)||(t[n]=_.isNull(e)?r:e)}))},nth:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.length;if(r<=0)return n;return t[Ti.Num.scrollIndex(e,r)]},anyKey:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-";if(t.isNil(e))return e;var i=[];return n&&i.push(n),_.isArray(e)||_.isPlainObject(e)?(_.forEach(e,function(t){return i.push(t)}),i.join("-")):(i.push(e),i.join(r))},translate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_.identity;if(_.isEmpty(e)||_.isEmpty(n))return _.cloneDeep(e);if(_.isArray(e)){for(var i=[],a=0;a<e.length;a++){var o=e[a],s=t.translate(o,n,r);i.push(s)}return i}var u={};return _.forEach(n,function(n,i){var a;a=".."==n?e:t.getOrPick(e,n),a=r(a),_.set(u,i,a)}),u},pureCloneDeep:function(e){if(_.isArray(e)){var n=[];return _.forEach(e,function(e,r){_.isUndefined(e)||_.isFunction(e)||(n[r]=t.pureCloneDeep(e))}),n}if(_.isPlainObject(e)){var r={};return _.forEach(e,function(e,n){_.isUndefined(e)||_.isFunction(e)||(r[n]=t.pureCloneDeep(e))}),r}return _.cloneDeep(e)},setKey:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return _.isString(e)&&(e=e.split(".")),function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0;if(r>=n.length)return e;if(_.isArray(e)){for(var a=[],o=parseInt(n[r]),s=0;s<e.length;s++)if(s==o){var u=t(e[s],n,r+1,i);a.push(u)}else a.push(e[s]);return a}if(_.isPlainObject(e)){var c={},l=_.keys(e);if(n.length==r+1){var f,h=n[r],d=_createForOfIteratorHelper(l);try{for(d.s();!(f=d.n()).done;){var v=f.value,p=e[v];h==v?c[i]=p:c[v]=p}}catch(t){d.e(t)}finally{d.f()}}else{var g,m=_createForOfIteratorHelper(l);try{for(m.s();!(g=m.n()).done;){var y=g.value,b=t(e[y],n,r+1,i);c[y]=b}}catch(t){m.e(t)}finally{m.f()}}return c}return e}(t,e,0,n)},getOrPick:function(t,e,n){if(_.isArray(e))return Ti.Util.fallback(_.pick(t,e),n);if(_.isFunction(e))return Ti.Util.fallback(e(t),n);if(_.isString(e)){var r=e.split("|");if(r.length>1)return Ti.Util.fallback(Ti.Util.getFallbackNil(t,r),n)}return Ti.Util.fallback(_.get(t,e),n)},truthyKeys:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=[];return _.forEach(t,function(t,n){t&&e.push(n)}),e},getFallback:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i,a=_createForOfIteratorHelper(_.flattenDeep(n));try{for(a.s();!(i=a.n()).done;){var o=i.value;if(o){var s=_.get(t,o);if(!_.isUndefined(s))return s}}}catch(t){a.e(t)}finally{a.f()}},getFallbackNil:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a,o=_createForOfIteratorHelper(_.flattenDeep(r));try{for(o.s();!(a=o.n()).done;){var s=a.value;if(s){var u=_.get(e,s);if(!t.isNil(u))return u}}}catch(t){o.e(t)}finally{o.f()}},fallback:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,i=e;r<i.length;r++){var a=i[r];if(!_.isUndefined(a))return a}},fallbackNil:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(!t.isNil(o))return o}},fallbackNaN:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,i=e;r<i.length;r++){var a=i[r];if(!isNaN(a))return a}},isNil:function(t){return _.isUndefined(t)||_.isNull(t)},isBlank:function(t){return _.isUndefined(t)||_.isNull(t)||""===t||/^[ \t]*$/.test(t)},geset:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return _.isPlainObject(e)?(_.assign(t,e),t):_.isArray(e)?_.pick(t,e):_.isUndefined(n)?_.isUndefined(e)?t:t[e]:(t[e]=n,t)},invoke:function(){var t=arguments,e=this;return _asyncToGenerator(regeneratorRuntime.mark(function n(){var r,i,a,o,s,u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.length>0&&void 0!==t[0]?t[0]:{},i=t.length>1?t[1]:void 0,a=t.length>2&&void 0!==t[2]?t[2]:[],o=t.length>3&&void 0!==t[3]?t[3]:e,s=_.get(r,i),!_.isFunction(s)){n.next=9;break}return u=_.concat(a),n.next=9,s.apply(o,u);case 9:case"end":return n.stop()}},n)}))()},first:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return _.isArray(t)?_.first(t):t},last:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return _.isArray(t)?_.last(t):t},genGetter:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.indexPrefix,i=n.dftKeys,a=void 0===i?[]:i,o=n.context,s=void 0===o?{}:o,u=n.funcSet,c=void 0===u?window:u,l=n.partialRight,f=void 0!==l&&l;if(_.isFunction(e))return function(t){return e(t)};if(e){if(r)return function(t,n){return Ti.Util.fallbackNil(Ti.Types.toStr(_.get(t,e)),"".concat(r).concat(n))};var h=/^'(.+)'$/.exec(e);if(h)return function(){return h[1]};if(h=/^=>(.+)$/.exec(e)){var d=h[1];return t.genInvoking(d,{context:s,funcSet:c,partialRight:f})}return function(t){return Ti.Util.getOrPick(t,e)}}return _.isEmpty(a)?void 0:function(t){var e;return(e=Ti.Util).getFallback.apply(e,[t].concat(_toConsumableArray(a)))}},genInvoking:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.context,r=void 0===n?{}:n,i=e.funcSet,a=void 0===i?window:i,o=e.partialRight,s=void 0!==o&&o;if(_.isFunction(t))return t;var u,c;if(t.name&&t.args)u=t.name,c=_.concat(t.args);else{var l=/^([^()]+)(\((.+)\))?$/.exec(t);l&&(u=_.trim(l[1]),c=_.trim(l[3]))}var f=_.get(a,u);if(_.isFunction(f)){var h=Ti.S.joinArgs(c,[],function(t){return Ti.S.toJsValue(t,{context:r})});if(!_.isEmpty(h)){var d;if(s){var v;return(v=_).partialRight.apply(v,[f].concat(_toConsumableArray(h)))}return(d=_).partial.apply(d,[f].concat(_toConsumableArray(h)))}return f}return function(){return t}},genItemMatcher:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return _.isFunction(t)?function(e,n){return t(e,n)}:_.isString(t)?e?function(e,n){return _.indexOf(Ti.Util.getOrPick(e,t),n)>=0}:function(e,n){return _.isEqual(Ti.Util.getOrPick(e,t),n)}:_.isArray(t)?function(n,r){var i,a=_createForOfIteratorHelper(t);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=Ti.Util.getOrPick(n,o);if(e){if(_.indexOf(s,r)>=0)return!0}else if(_.isEqual(s,r))return!0}}catch(t){a.e(t)}finally{a.f()}return!1}:function(t,e){return!1}},genItemValueGetter:function(t,e){return _.isFunction(t)?function(n){return t(n,e)}:_.isString(t)?function(n){return Ti.Util.getOrPick(n,t,e)}:function(){return e}},genRowIdGetter:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["id","value"];return _.isFunction(t)?function(e,n){return Ti.Types.toStr(t(e,n))}:_.isString(t)?function(e,n){return Ti.Util.fallbackNil(Ti.Types.toStr(_.get(e,t)),"Row-".concat(n))}:_.isEmpty(e)?void 0:function(t){var n;return(n=Ti.Util).getFallback.apply(n,[t].concat(_toConsumableArray(e)))}},genRowDataGetter:function(t){return _.isFunction(t)?function(e){return t(e)}:_.isString(t)?function(e){return _.get(e,t)}:_.isObject(t)?function(e){return Ti.Util.translate(e,t)}:function(t){return t}}});return{Util:t}}(),Util=_ref95.Util,_ref107=function(){var t={path:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Ti.Util.isNil(t)?[]:_.isArray(t)?t:_.map(_.without(t.split("/"),""),function(t){return/^\d+$/.test(t)?1*t:t})},walkDeep:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return{}};return _slicedToArray(function t(n){var r=_slicedToArray(_.concat(e(n)||[null,!1]),2),i=r[0],a=r[1];if(a)return[i,a];if(_.isArray(n.node.children)){var o,s={depth:n.depth+1,parent:n,ancestors:_.concat(n.ancestors,n)},u=0,c=_createForOfIteratorHelper(n.node.children);try{for(c.s();!(o=c.n()).done;){var l=o.value,f=_slicedToArray(t(_objectSpread({index:u,node:l,path:_.concat(n.path,l.name)},s)),2);if(i=f[0],a=f[1],u++,a)return[i,a]}}catch(t){c.e(t)}finally{c.f()}}return[]}({index:0,node:t,path:[],depth:0,parent:null,ancestors:[]}),1)[0]},walkBreadth:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return{}},n={index:0,node:t,path:[],depth:0,parent:null,ancestors:[]},r=_slicedToArray(_.concat(e(n)||[null,!1]),2),i=r[0],a=r[1];if(a)return[i,a];return _slicedToArray(function t(n){if(_.isArray(n.node.children)){var r,i=[],a={depth:n.depth+1,parent:n,ancestors:_.concat(n.ancestors,n)},o=0,s=_createForOfIteratorHelper(n.node.children);try{for(s.s();!(r=s.n()).done;){var u=r.value,c=_objectSpread({index:o,node:u,path:_.concat(n.path,u.name||o)},a),l=_slicedToArray(_.concat(e(c)||[null,!1]),2),f=l[0],h=l[1];if(o++,h)return[f,h];i.push(c)}}catch(t){s.e(t)}finally{s.f()}for(var d=0,v=i;d<v.length;d++){var p=_slicedToArray(t(v[d]),2),g=p[0],m=p[1];if(m)return[g,m]}}return[]}(n),1)[0]},getById:function(e,n){if(!Ti.Util.isNil(n))return t.walkDeep(e,function(t){if(t.node.id==n)return[t,!0]})},getByPath:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=t.path(n);return t.walkDeep(e,function(t){if(_.isEqual(r,t.path))return[t,!0]})},getNodeById:function(e,n){var r=t.getById(e,n);if(r)return r.node},getNodeByPath:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=t.getByPath(e,n);if(r)return r.node},insertBefore:function(t,e){if(t&&!_.isUndefined(e)){var n,r;t.parent?(r=t.parent.node.children,n=t.index):(r=t.node.children,n=0);return{hierarchy:t,children:r,item:e,index:Ti.Util.insertToArray(r,n,e)}}},insertAfter:function(t,e){if(t&&!_.isUndefined(e)){var n,r;t.parent?(r=t.parent.node.children,n=t.index+1):(r=t.node.children,n=-1);return{hierarchy:t,children:r,item:e,index:Ti.Util.insertToArray(r,n,e)}}},prepend:function(t,e){if(t&&!_.isUndefined(e)){var n,r;_.isArray(t.node.children)?(r=t.node.children,n=0):(r=t.parent.node.children,n=t.index+1);return{hierarchy:t,children:r,item:e,index:Ti.Util.insertToArray(r,n,e)}}},append:function(t,e){if(t&&!_.isUndefined(e)){var n,r;_.isArray(t.node.children)?(r=t.node.children,n=0):(r=t.parent.node.children,n=t.index);return{hierarchy:t,children:r,item:e,index:Ti.Util.insertToArray(r,n,e)}}},remove:function(t){if(t&&t.parent){var e=t.index;return _.remove(t.parent.node.children,function(t,n){return n==e}).length>0}},nextCandidate:function(t){if(t&&t.parent){var e,n,r=t.parent.node.children;return r.length<=1?(e=t.parent.node,n=_.isEmpty(t.parent.path)?null:t.parent.path.slice(0,t.parent.path.length-1)):t.index+1<r.length?(e=r[t.index+1],n=t.parent.path):(e=r[t.index-1],n=t.parent.path),{node:e,path:n}}}};return{Trees:t}}(),Trees=_ref107.Trees,_ref108={Viewport:new(function(){function t(){_classCallCheck(this,t),this.reset()}return _createClass(t,[{key:"reset",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.scrolling=[],this.resizing=[],this}},{key:"watch",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.scroll,r=e.resize;_.isFunction(n)&&this.scrolling.push({context:t,handler:n}),_.isFunction(r)&&this.resizing.push({context:t,handler:r})}},{key:"unwatch",value:function(t){_.remove(this.scrolling,function(e){return e.context===t}),_.remove(this.resizing,function(e){return e.context===t})}},{key:"startListening",value:function(){var t=this;this.isListening||(window.addEventListener("resize",function(e){var n,r=_createForOfIteratorHelper(t.resizing);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.handler.apply(i.context,[e])}}catch(t){r.e(t)}finally{r.f()}}),window.addEventListener("scroll",function(e){var n,r=_createForOfIteratorHelper(t.scrolling);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.handler.apply(i.context,[e])}}catch(t){r.e(t)}finally{r.f()}}),this.isListening=!0)}}]),t}())},Viewport=_ref108.Viewport,_ref112=function(){var t={explainNavigation:function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".html",a=[],o=_createForOfIteratorHelper(n);try{for(o.s();!(e=o.n()).done;){var s=e.value,u=_objectSpread({type:"page"},_.pick(s,"icon","title","type","value","href","target"));if("page"==s.type){if(!u.href){var c=s.value;c.endsWith(i)||(c+=i);var l=Ti.Util.appendPath(r,c);u.value=c,u.href=t.joinHrefParams(l,s.params,s.anchor)}u.highlightBy=t.evalHighlightBy(s.highlightBy||u.value),!u.target&&s.newTab&&(u.target="_blank")}else"href"==u.type?(u.highlightBy=function(){return!1},u.href||(u.href=t.joinHrefParams(s.value,s.params,s.anchor)),!u.target&&s.newTab&&(u.target="_blank")):u.highlightBy=function(){return!1};_.isArray(s.items)&&(u.items=t.explainNavigation(s.items,r)),a.push(u)}}catch(t){o.e(t)}finally{o.f()}return a},evalHighlightBy:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(_.isFunction(t))return t;if(_.isString(t)){if(t.startsWith("^")||t.endsWith("$")){var e=new RegExp(t);return _.bind(function(t){return this.test(t)},e)}return function(e){return _.isEqual(e,t)}}return _.isRegExp(t)?_.bind(function(t){return this.test(t)},t):_.isBoolean(t)?function(){return t}:function(){return!1}},joinHrefParams:function(t,e,n){if(!t)return null;var r;return _.isEmpty(e)||(r=[],_.forEach(e,function(t,e){if(!Ti.Util.isNil(t)){var n=encodeURIComponent(t);r.push("".concat(e,"=").concat(n))}}),r.length>0&&(t=t+"?"+r.join("&"))),n&&(n.startsWith("#")?t+=n:t+="#"+n),t},evalFee:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.price,n=void 0===e?0:e,r=t.amount;return n*(void 0===r?1:r)},getCurrencyPrefix:function(t){return{RMB:"",USD:"$",EUR:"",GBP:""}[_.upperCase(t)]},feeText:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"RMB",r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).autoSuffix,i=void 0===r||r,a=_.upperCase(n),o=t.getCurrencyPrefix(a),s=[];return o&&s.push(o),s.push(e),i&&o||s.push(a),s.join("")}};return{WWW:t}}(),WWW=_ref112.WWW,_ref115=function(){var t=3.141592653589793,e=6378245,n=.006693421622965943,r={WGS84_TO_GCJ02:function(i,a){if(r.outOfChina(i,a))return{lat:i,lng:a};var o=r.transformLat(a-105,i-35),s=r.transformLng(a-105,i-35),u=i/180*t,c=Math.sin(u);c=1-n*c*c;var l=Math.sqrt(c);return{lat:i+(o=180*o/(e*(1-n)/(c*l)*t)),lng:a+(s=180*s/(e/l*Math.cos(u)*t))}},WGS84_TO_BD09:function(t,e){var n=r.WGS84_TO_GCJ02(t,e);return r.GCJ02_TO_BD09(n.lat,n.lng)},GCJ02_TO_WGS84:function(t,e){var n=r.transform(t,e),i=2*e-n.lng;return{lat:2*t-n.lat,lng:i}},GCJ02_TO_BD09:function(e,n){var r=n,i=e,a=Math.sqrt(r*r+i*i)+2e-5*Math.sin(i*t),o=Math.atan2(i,r)+3e-6*Math.cos(r*t),s=a*Math.cos(o)+.0065;return{lat:a*Math.sin(o)+.006,lng:s}},BD09_TO_GCJ02:function(e,n){var r=n-.0065,i=e-.006,a=Math.sqrt(r*r+i*i)-2e-5*Math.sin(i*t),o=Math.atan2(i,r)-3e-6*Math.cos(r*t),s=a*Math.cos(o);return{lat:a*Math.sin(o),lng:s}},BD09_TO_WGS84:function(t,e){var n=r.BD09_TO_GCJ02(t,e);return r.GCJ02_TO_WGS84(n.lat,n.lng)},outOfChina:function(t,e){return e<72.004||e>137.8347||(t<.8293||t>55.8271)},transform:function(i,a){if(r.outOfChina(i,a))return{lat:i,lng:a};var o=r.transformLat(a-105,i-35),s=r.transformLng(a-105,i-35),u=i/180*t,c=Math.sin(u);c=1-n*c*c;var l=Math.sqrt(c);return{lat:i+(o=180*o/(e*(1-n)/(c*l)*t)),lng:a+(s=180*s/(e/l*Math.cos(u)*t))}},transformLat:function(e,n){var r=2*e-100+3*n+.2*n*n+.1*e*n+.2*Math.sqrt(Math.abs(e));return r+=2*(20*Math.sin(6*e*t)+20*Math.sin(2*e*t))/3,r+=2*(20*Math.sin(n*t)+40*Math.sin(n/3*t))/3,r+=2*(160*Math.sin(n/12*t)+320*Math.sin(n*t/30))/3},transformLng:function(e,n){var r=300+e+2*n+.1*e*e+.1*e*n+.1*Math.sqrt(Math.abs(e));return r+=2*(20*Math.sin(6*e*t)+20*Math.sin(2*e*t))/3,r+=2*(20*Math.sin(e*t)+40*Math.sin(e/3*t))/3,r+=2*(150*Math.sin(e/12*t)+300*Math.sin(e/30*t))/3}};return{GPS:r}}(),GPS=_ref115.GPS,_ref116={Bank:{getCurrencyChar:function(){return{RMB:"",USD:"$",GBP:""}[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"RMB"]},isValidPayType:function(t){return{"wx.qrcode":!0,"zfb.qrcode":!0,paypal:!0}[t]||!1},getPayTypeText:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=null;if(_.isString(t)&&(n="pay-by-".concat(t.replace(".","-"))),n)return e?Ti.I18n.get(n):n},getPayTypeChooseI18nText:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.text,r=void 0===n?"pay-step-choose-tip2":n,i=e.nil,a=void 0===i?"pay-step-choose-nil":i,o=Ti.Bank.getPayTypeText(t,!0);return o?Ti.I18n.getf(r,{val:o}):Ti.I18n.get(a)}}},Bank=_ref116.Bank,_ref118=function(){var t=["sun","mon","tue","wed","thu","fri","sat"],e=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],n={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6,sunday:0,monday:1,tuesday:2,wednesday:3,thursday:4,friday:5,saturday:6},r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i=new RegExp("^((\\d{4})([/\\\\-])?(\\d{1,2})?([/\\\\-])?(\\d{1,2})?)?(([ T])?(\\d{1,2})(:)(\\d{1,2})((:)(\\d{1,2}))?((.)(\\d{1,3}))?)?(([+-])(\\d{1,2})(:\\d{1,2})?)?(Z(\\d*))?$"),a={parse:function(t){if(_.isUndefined(t)||"today"===t)return new Date;if(!t||_.isArray(t)&&_.isEmpty(t))return null;if(_.isDate(t))return new Date(t);if(_.isNumber(t))return new Date(t);if(_.isString(t)){var e=t;if(/\d{13,}/.test(e))return new Date(1*e);var n=i.exec(t);if(n){var r=function(t,e,n){var r=t[e];return r?parseInt(r):n},a=new Date,o=r(n,2,a.getFullYear()),s=r(n,4,n[2]?1:a.getMonth()+1),u=r(n,6,n[2]?1:a.getDate()),c=r(n,9,0),l=r(n,11,0),f=r(n,14,0),h=r(n,17,0),d=[_.padStart(o,4,"0"),"-",_.padStart(s,2,"0"),"-",_.padStart(u,2,"0"),"T",_.padStart(c,2,"0"),":",_.padStart(l,2,"0"),":",_.padStart(f,2,"0"),".",_.padStart(h,3,"0")];n[18]&&d.push(n[18]);var v=d.join("");return new Date(v)}}throw"i18n:invalid-date"},format:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd HH:mm:ss";if(_.isArray(t)){var n,r=[],i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;r.push(a.format(o,e))}}catch(t){i.e(t)}finally{i.f()}return r}if(_.isDate(t)||(t=a.parse(t)),!t)return null;for(var s,u=t.getFullYear(),c=t.getMonth()+1,l=t.getDate(),f=t.getHours(),h=t.getMinutes(),d=t.getSeconds(),v=t.getMilliseconds(),p={yyyy:u,M:c,d:l,H:f,m:h,s:d,S:v,yyy:u,yy:(""+u).substring(2,4),MM:_.padStart(c,2,"0"),dd:_.padStart(l,2,"0"),HH:_.padStart(f,2,"0"),mm:_.padStart(h,2,"0"),ss:_.padStart(d,2,"0"),SS:_.padStart(v,3,"0"),SSS:_.padStart(v,3,"0")},g=/(y{2,4}|M{1,2}|d{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|'([^']+)')/g,m=[],y=0;s=g.exec(e);){y<s.index&&m.push(e.substring(y,s.index));var b=Ti.Util.fallback(s[2],p[s[1]],s[1]);m.push(b),y=g.lastIndex}return y<e.length&&m.push(e.substring(y)),m.join("")},getWeekDayAbbr:function(e){var n=_.clamp(e,0,t.length-1);return t[n]},getWeekDayName:function(t){var n=_.clamp(t,0,e.length-1);return e[n]},getWeekDayValue:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=_.trim(_.lowerCase(t)),i=n[r];return _.isNumber(i)?i:e},getMonthAbbr:function(t){var e=_.clamp(t,0,11);return r[e]},setTime:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return _.inRange(e,0,24)&&t.setHours(e),_.inRange(n,0,60)&&t.setMinutes(n),_.inRange(r,0,60)&&t.setSeconds(r),_.inRange(i,0,1e3)&&t.setMilliseconds(i),t},setDayLastTime:function(t){return a.setTime(t,23,59,59,999)},moveYear:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return _.isDate(t)&&t.setFullYear(t.getFullYear+e),t},moveMonth:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return _.isDate(t)&&t.setMonth(t.getMonth()+e),t},moveDate:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return _.isDate(t)&&t.setDate(t.getDate()+e),t},createDate:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(_.isDate(t)){var n=new Date(t);return n.setDate(n.getDate()+e),n}},timeText:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.justNow,r=void 0===n?10:n,i=e.i18n,o=void 0===i?Ti.I18n.get("time"):i,s=(t=a.parse(t)).getTime(),u=Date.now()-s,c=u>0?"past-":"future-";u=Math.abs(u);var l=Math.round(u/6e4);if(l<r)return o["".concat(c,"in-min")];if(l<60)return Ti.S.renderBy(o["".concat(c,"in-hour")],{min:l});var f=Math.round(u/36e5);if(f<24)return Ti.S.renderBy(o["".concat(c,"in-day")],{min:l,hour:f});var h=Math.round(f/24);if(h<7)return Ti.S.renderBy(o["".concat(c,"in-week")],{min:l,hour:f,day:h});return t.getFullYear()==(new Date).getFullYear()?a.format(t,o["in-year"]):a.format(t,o["any-time"])}};return{DateTime:a}}(),DateTime=_ref118.DateTime,_ref120={Num:{fillSteps:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.ary,i=void 0===r?[]:r,a=n.step,o=void 0===a?1:a,s=0;s<e;s++)i[s]=t+s*o;return i},scrollIndex:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e>0){var n=t%e;return n>=0?n:e+n}return-1},precise:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(e>=0){var n=Math.pow(10,e);return Math.round(t*n)/n}return t}}},Num=_ref120.Num,_ref122=function(){var t={toPixel:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(_.isNumber(t))return t>-1&&t<1?t*e:t;var r=/^([\d.]+)(px)?(%)?$/.exec(t);return r?r[3]?r[1]*e/100:1*r[1]:n},toSize:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.autoPercent,r=void 0===n||n,i=e.remBase,a=void 0===i?0:i;return _.isNumber(t)||/^[0-9]+$/.test(t)?0==t?t:r&&t>-1&&t<1?100*t+"%":a>0?t/a+"rem":t+"px":t},toSizeRem100:function(e,n){var r=_.assign({},n,{remBase:100});return t.toSize(e,r)},toStyle:function(e,n){return _.mapValues(e,function(e,r){var i=_.kebabCase(r);return/^(opacity|z-index|order)$/.test(i)?e:t.toSize(e,n)})},toStyleRem100:function(e,n){var r=_.assign({},n,{remBase:100});return t.toStyle(e,r)},toBackgroundUrl:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(t)return e&&(t=Ti.Util.appendPath(e,t)),'url("'.concat(t,'")')},toNumStyle:function(e){return t.toStyle(e,!1)},mergeClassName:function(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function e(n){if(!Ti.Util.isNil(n))if(_.isFunction(n))e(n());else if(_.isString(n)){var r,i=_createForOfIteratorHelper(_.without(_.split(n,/ +/g),""));try{for(i.s();!(r=i.n()).done;){var a=r.value;t[a]=!0}}catch(t){i.e(t)}finally{i.f()}}else if(_.isArray(n)){var o,s=_createForOfIteratorHelper(n);try{for(s.s();!(o=s.n()).done;)e(o.value)}catch(t){s.e(t)}finally{s.f()}}else _.isPlainObject(n)&&_.forEach(n,function(e,n){e&&(t[n]=!0)})}(n),t},joinClassNames:function(){var e=t.mergeClassName.apply(t,arguments),n=[];return _.forEach(e,function(t,e){t&&n.push(e)}),n.join(" ")}};return{Css:t}}(),Css=_ref122.Css,_ref124=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this.data=n,_.isString(e)?this.path=_.without(e.split("/"),""):_.isArray(e)&&(this.path=e)}return _createClass(t,[{key:"match",value:function(t){for(var e=_.isArray(t)?t:_.without(t.split("/"),""),n=0;n<e.length;n++){var r=e[n],i=this.path[n];if("*"!=i&&r!=i)return!1}return!0}}]),t}(),e=function(){function t(e,n){_classCallCheck(this,t),this.data=n,this.regex=new RegExp(e)}return _createClass(t,[{key:"match",value:function(t){return this.regex.test(t)}}]),t}();return{Mapping:function(){function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,n),this.parse(t)}return _createClass(n,[{key:"parse",value:function(){var n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.maps={},this.regexs=[],this.paths=[],_.forEach(r,function(r,i){var a,o=_createForOfIteratorHelper(_.map(i.split(","),function(t){return _.trim(t)}));try{for(o.s();!(a=o.n()).done;){var s=a.value;s.startsWith("^")?n.regexs.push(new e(s,r)):s.indexOf("/")>=0?n.paths.push(new t(s,r)):n.maps[s]=r}}catch(t){o.e(t)}finally{o.f()}})}},{key:"get",value:function(t,e){if(!Ti.Util.isNil(t)){var n=this.maps[t];if(!_.isUndefined(n))return n;var r,i=_createForOfIteratorHelper(this.paths);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=_.without(t.split("/"),"");if(a.match(o))return a.data}}catch(t){i.e(t)}finally{i.f()}var s,u=_createForOfIteratorHelper(this.regexs);try{for(u.s();!(s=u.n()).done;){var c=s.value;if(c.match(t))return c.data}}catch(t){u.e(t)}finally{u.f()}}return e}}]),n}()}}(),Mapping=_ref124.Mapping,_ref125=function(){var t={item:Symbol("item"),data:Symbol("data"),query:Symbol("query"),children:Symbol("children"),getValue:Symbol("getValue"),getText:Symbol("getText"),getIcon:Symbol("getIcon"),isMatched:Symbol("isMatched"),itemCache:Symbol("itemCache"),dataCache:Symbol("dataCache"),hooks:Symbol("hooks"),shadowed:Symbol("shadowed")},e={},n=function(){function n(){_classCallCheck(this,n),this[t.hooks]=[],this[t.shadowed]=!1,this[t.item]=_.idendity,this[t.data]=function(){return[]},this[t.query]=function(t){return[]},this[t.children]=function(t){return[]},this[t.getValue]=function(t){return Ti.Util.getFallback(t,"value","id")},this[t.getText]=function(t){return Ti.Util.getFallback(t,"title","text","name","nm")},this[t.getIcon]=function(t){return _.get(t,"icon")},this[t.isMatched]=function(t,e,n){var r=n.getValue(t);if(_.isEqual(e,r))return!0;var i=n.getText(t);return!!(i&&i.indexOf(e)>=0)},this[t.itemCache]={},this[t.dataCache]=null}return _createClass(n,[{key:"setShadowed",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this[t.shadowed]=e}},{key:"isShadowed",value:function(){return this[t.shadowed]}},{key:"addHooks",value:function(){for(var e=this,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=_.flattenDeep(r);_.forEach(a,function(n){_.isFunction(n)&&e[t.hooks].push(n)})}},{key:"clearHooks",value:function(){this[t.hooks]=[]}},{key:"doHooks",value:function(){var e,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=_createForOfIteratorHelper(this[t.hooks]);try{for(r.s();!(e=r.n()).done;){(0,e.value)({loading:n})}}catch(t){r.e(t)}finally{r.f()}}},{key:"invoke",value:function(e){var n=this[t[e]];if(_.isFunction(n)){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return n.apply(this,[].concat(i,[this]))}}},{key:"invokeAsync",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(n){var r,i,a,o,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this[t[n]],!_.isFunction(r)){e.next=7;break}for(i=u.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=u[o];return e.next=5,r.apply(this,[].concat(a,[this]));case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"setFunc",value:function(e){var n=this;_.forEach(e,function(e,r){_.isFunction(e)&&(n[t[r]]=e)})}},{key:"duplicate",value:function(e){var r=this,i=e.hooks,a=void 0!==i&&i,o=e.cache,s=void 0===o||o,u=e.dataCache,c=void 0===u||u,l=e.itemCache,f=void 0===l||l,h=new n;return _.forEach(t,function(t){h[t]=r[t]}),a||(h[t.hooks]=[]),s||(h[t.itemCache]={},h[t.dataCache]=null),c||(h[t.dataCache]=null),f||(h[t.itemCache]={}),h}},{key:"isItemCached",value:function(e){return!Ti.Util.isNil(this[t.itemCache][e])}},{key:"addItemToCache",value:function(e,n){e=Ti.Util.fallback(e,null);var r=n;Ti.Util.isNil(r)&&(r=this.getValue(e)),_.isUndefined(e)||Ti.Util.isNil(r)||(this[t.itemCache][r]=e)}},{key:"clearCache",value:function(){this[t.itemCache]={},this[t.dataCache]=null}},{key:"findItem",value:function(t){var e,n=_createForOfIteratorHelper(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=this.getValue(r);if(_.isEqual(t,i))return r}}catch(t){n.e(t)}finally{n.f()}}},{key:"getItem",value:function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function n(r){var i,a,o,s,u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!Ti.Util.isNil(r)){n.next=2;break}return n.abrupt("return",null);case 2:if(i=this[t.itemCache][r],!_.isUndefined(i)){n.next=20;break}if(!(a=e[r])){n.next=9;break}return n.next=8,new Promise(function(t){a.push(t)});case 8:return n.abrupt("return",n.sent);case 9:return a=[],e[r]=a,this.doHooks(!0),n.next=14,this.invokeAsync("item",r);case 14:i=n.sent,this.doHooks(!1),this.addItemToCache(i,r),o=_createForOfIteratorHelper(a);try{for(o.s();!(s=o.n()).done;)(u=s.value)(i||null)}catch(t){o.e(t)}finally{o.f()}delete e[r];case 20:if(!this.isShadowed()){n.next=22;break}return n.abrupt("return",_.cloneDeep(i));case 22:return n.abrupt("return",i);case 23:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}()},{key:"getData",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var n,r,i=this,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>0&&void 0!==a[0]&&a[0],r=this[t.dataCache],!n&&!_.isEmpty(r)){e.next=10;break}return this.doHooks(!0),e.next=6,this.invokeAsync("data");case 6:r=e.sent,this.doHooks(!1),_.forEach(r,function(t,e){_.isPlainObject(t)||(t={text:t,value:t},r[e]=t),i.addItemToCache(t)}),this[t.dataCache]=r;case 10:if(!this.isShadowed()){e.next=12;break}return e.abrupt("return",_.cloneDeep(r)||[]);case 12:return e.abrupt("return",r||[]);case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"queryData",value:function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(e){var n,r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=4;break}return t.next=3,this.getData();case 3:return t.abrupt("return",t.sent);case 4:return this.doHooks(!0),t.next=7,this.invokeAsync("query",e);case 7:if(n=t.sent,this.doHooks(!1),_.forEach(n,function(t){r.addItemToCache(t)}),!this.isShadowed()){t.next=12;break}return t.abrupt("return",_.cloneDeep(n)||[]);case 12:return t.abrupt("return",n||[]);case 13:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getChildren",value:function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(e){var n,r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=4;break}return t.next=3,this.getData();case 3:return t.abrupt("return",t.sent);case 4:return this.doHooks(!0),t.next=7,this.invokeAsync("children",e);case 7:if(n=t.sent,this.doHooks(!1),_.forEach(n,function(t){r.addItemToCache(t)}),!this.isShadowed()){t.next=12;break}return t.abrupt("return",_.cloneDeep(n)||[]);case 12:return t.abrupt("return",n||[]);case 13:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getValue",value:function(t){return this.invoke("getValue",t)}},{key:"getText",value:function(t){return this.invoke("getText",t)}},{key:"getIcon",value:function(t){return this.invoke("getIcon",t)}},{key:"isMatched",value:function(t,e){return this.invoke("isMatched",t,e)}},{key:"getBy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".text",e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return t&&".text"!=t?".icon"==t?this.getIcon(e):".value"==t?this.getValue(e):Ti.Util.fallback(Ti.Util.getOrPick(e,t),n,this.getValue(e)):this.getText(e)}},{key:"checkItem",value:function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getItem(e);case 2:if(n=t.sent){t.next=5;break}throw Ti.Err.make("e.dict.no-item",{dictName:dictName,val:e});case 5:return t.abrupt("return",n);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getItemText",value:function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getItem(e);case 2:if(!(n=t.sent)){t.next=5;break}return t.abrupt("return",this.getText(n));case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getItemIcon",value:function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getItem(e);case 2:if(!(n=t.sent)){t.next=5;break}return t.abrupt("return",this.getIcon(n));case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getItemAs",value:function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(e,n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getItem(n);case 2:if(!(r=t.sent)){t.next=5;break}return t.abrupt("return",this.getBy(e,r,n));case 5:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()}]),n}(),r={},i={DictReferName:function(t){if(_.isString(t)){var e=/^(@Dict:|#)(.+)$/.exec(t);if(e)return _.trim(e[2])}},GetOrCreate:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=a.hooks,s=a.name;if(e.data instanceof n)t=e.data;else{var u=s||i.DictReferName(e.data);u&&(t=r[u])}return t?(o&&(t=t.duplicate({hooks:!1})).addHooks(o),t):i.CreateDict(e,{hooks:o,name:s})},CreateDict:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data,i=t.query,a=t.item,o=t.children,s=t.getValue,u=t.getText,c=t.getIcon,l=t.isMatched,f=t.shadowed,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=h.hooks,v=h.name;if(_.isString(e)||_.isArray(e)){var p=Ti.S.toObjList(e);e=function(){return p}}else e||(e=function(){return[]});a||(a=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(e,n){var r,i,a,o,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.getData();case 2:r=t.sent,i=_createForOfIteratorHelper(r),t.prev=4,i.s();case 6:if((a=i.n()).done){t.next=13;break}if(o=a.value,(s=n.getValue(o))!=e&&!_.isEqual(s,e)){t.next=11;break}return t.abrupt("return",o);case 11:t.next=6;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(4),i.e(t.t0);case 18:return t.prev=18,i.f(),t.finish(18);case 21:case"end":return t.stop()}},t,null,[[4,15,18,21]])}));return function(e,n){return t.apply(this,arguments)}}()),i||(i=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(e,n){var r,i,a,o,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.getData();case 2:r=t.sent,i=[],a=_createForOfIteratorHelper(r);try{for(a.s();!(o=a.n()).done;)s=o.value,n.isMatched(s,e)&&i.push(s)}catch(t){a.e(t)}finally{a.f()}return t.abrupt("return",i);case 7:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()),o||(o=function(){return[]});var g=new n;return g.setFunc({data:e,query:i,item:a,children:o,getValue:s,getText:u,getIcon:c,isMatched:l}),v&&(r[v]=g),f&&g.setShadowed(f),d&&g.addHooks(d),g},GetDict:function(t,e){var n=r[t];return n&&e&&(n=n.duplicate({hooks:!1})).addHooks(e),n},CheckDict:function(t,e){var n=i.GetDict(t,e);if(n)return n;var a=i.explainDictName(t),o=a.name,s=a.args;if(n=i.GetDict(o,e)){if(!_.isEmpty(s)){var u=n.duplicate({hooks:!0,dataCache:!1});return u.setFunc({data:function(){return this.getChildren.apply(this,_toConsumableArray(s))}}),r[t]=u,u}return n}throw"e.dict.noexists : ".concat(t)},explainDictName:function(t){var e={},n=/^([^:()]+)(\(([^)]*)\))?(:(.+))?$/.exec(t);return n&&(e.name=n[1],e.args=Ti.S.joinArgs(n[3]),e.vkey=n[5]),e},getBy:function(t,e){return _asyncToGenerator(regeneratorRuntime.mark(function n(){var r,a,o,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!Ti.Util.isNil(e)){n.next=2;break}return n.abrupt("return",e);case 2:return r=i.explainDictName(t),a=r.name,o=r.vKey,s=i.CheckDict(a),n.next=6,s.getItemAs(o,e);case 6:return n.abrupt("return",n.sent);case 7:case"end":return n.stop()}},n)}))()},getAll:function(t){return _asyncToGenerator(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=i.CheckDict(t),e.next=4,n.getData();case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e.catch(0),console.error("e.dict.getAll : ".concat(t),e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}))()},getText:function(t,e){return _asyncToGenerator(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=i.CheckDict(t),n.next=4,r.getItemText(e);case 4:return n.abrupt("return",n.sent);case 7:n.prev=7,n.t0=n.catch(0),console.error("e.dict.getText : ".concat(t),n.t0);case 10:case"end":return n.stop()}},n,null,[[0,7]])}))()},getIcon:function(t,e){return _asyncToGenerator(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=i.CheckDict(t),n.next=4,r.getItemIcon(e);case 4:return n.abrupt("return",n.sent);case 7:n.prev=7,n.t0=n.catch(0),console.error("e.dict.getIcon : ".concat(t),n.t0);case 10:case"end":return n.stop()}},n,null,[[0,7]])}))()}};return{Dict:n,DictFactory:i}}(),Dict=_ref125.Dict,DictFactory=_ref125.DictFactory,_ref132=function(){var t=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t.$parent&&!n){var r;_.isFunction(t.__before_bubble)&&(e=t.__before_bubble(e)||e),(r=t.$parent).$notify.apply(r,[e.name].concat(_toConsumableArray(e.args)))}},e=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a,o={name:e,args:r},s=!1;if(_.isFunction(this.__on_events)&&(a=this.__on_events.apply(this,[e].concat(r))),_.isFunction(a)||(a=_.get(this.$listeners,e)),_.isFunction(a)||(a=this.$tiEventTryFallback(e,this.$listeners)),_.isFunction(a)){var u=a.apply(void 0,_toConsumableArray(o.args));s=!0,_.isBoolean(u)?s=u:u&&_.isBoolean(u.stop)&&(s=u.stop),t(this,o,s)}else t(this,o)};return{VueEventBubble:{install:function(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).overrideEmit,r=void 0!==n&&n;_.assign(t.prototype,{$notify:e,$tiEventTryFallback:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=_.split(t,"::");n.length>1;){var r=_toArray(n).slice(1),i=r.join("::"),a=_.get(e,i);if(a)return a;n=r}}}),r&&t.mixin({created:function(){this.$emit=e}})}}}}(),VueEventBubble=_ref132.VueEventBubble,_ref134=function(){var t={inheritAttrs:!1,computed:_objectSpread({},Vuex.mapGetters("viewport",["viewportMode","viewportActivedComIds","isViewportModeDesktop","isViewportModeTablet","isViewportModePhone","isViewportModeDesktopOrTablet","isViewportModePhoneOrTablet"]),{tiComId:function(){return"".concat(this._uid,":").concat(this.tiComType)},isActived:function(){return _.indexOf(this.viewportActivedComIds,this.tiComId)>=0},isSelfActived:function(){return _.last(this.viewportActivedComIds)==this.tiComId},getTopClass:function(){var t=this;return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Ti.Css.mergeClassName({"is-self-actived":t.isSelfActived,"is-actived":t.isActived},n,t.className)}}}),props:{className:void 0,onInit:void 0,onReady:void 0},created:function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:_.isFunction(this.onInit)&&this.onInit(this);case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),mounted:function(){_.isFunction(this.onReady)&&this.onReady(this)},beforeDestroyed:function(){Ti.App(this).setBlurredVm(this)}},e={tiActivableComIdPath:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.tiActivableComPath(t);return _.map(e,function(t){return t.tiComId})},tiActivableComPath:function(){for(var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=[this],n=this.$parent;n;)n.__ti_activable__&&e.push(n),n=n.$parent;return t&&e.reverse(),e},tiParentActivableCom:function(){for(var t=this.$parent;t&&!t.__ti_activable__;)t=t.$parent;return t},setActived:function(){this.isSelfActived||Ti.App(this).setActivedVm(this)}};return{VueTiCom:{install:function(n){n.mixin(t),_.assign(n.prototype,e),n.filter("i18n",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return/^i18n:(.+)/.test(t)?Ti.I18n.textf(t,e):Ti.I18n.getf(t,e)}),n.filter("percent",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return Ti.S.toPercent(1*t,{fixed:e,auto:n})}),n.filter("float",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Ti.Types.toFloat(t,{precision:e,dft:n})}),n.directive("dropFiles",{bind:function(t,e){var n=null,r=null,i=e.modifiers.mask;_.isArray(e.value)?(n=e.value.length>0?e.value[0]:null,r=e.value.length>1?e.value[1]:null):_.isFunction(e.value)&&(n=e.value),i&&(r=Ti.I18n.text(r||"i18n:drop-file-here-to-upload")),t.__drag_enter_count=0,t.addEventListener("dragenter",function(e){t.__drag_enter_count++,1==t.__drag_enter_count&&(t.setAttribute("ti-is-drag",""),i&&(t.$ti_drag_mask=Ti.Dom.createElement({className:"ti-drag-mask",$p:t}),t.$ti_drag_mask.innerHTML="<span>".concat(r,"</span>")))}),t.addEventListener("dragover",function(t){t.preventDefault(),t.stopPropagation()}),t.addEventListener("dragleave",function(e){t.__drag_enter_count--,t.__drag_enter_count<=0&&(t.removeAttribute("ti-is-drag"),t.$ti_drag_mask&&(Ti.Dom.remove(t.$ti_drag_mask),delete t.$ti_drag_mask))}),t.addEventListener("drop",function(e){e.preventDefault(),e.stopPropagation(),t.__drag_enter_count=0,t.removeAttribute("ti-is-drag"),t.$ti_drag_mask&&(Ti.Dom.remove(t.$ti_drag_mask),delete t.$ti_drag_mask),_.isFunction(n)&&n(e.dataTransfer.files)})}}),n.directive("dropOff",{bind:function(t,e){t.addEventListener("dragover",function(t){t.preventDefault(),t.stopPropagation()}),t.addEventListener("drop",function(t){t.preventDefault(),t.stopPropagation()})}}),n.directive("dragOff",{bind:function(t,e){t.addEventListener("dragstart",function(t){t.preventDefault(),t.stopPropagation()})}}),n.directive("tiActivable",{bind:function(t,e,n){e.value;var r=n.context;r.__ti_activable__=!0,t.addEventListener("click",function(t){t.__ti_activable_used__||(t.__ti_activable_used__=!0,r.setActived())})}})}}}}(),VueTiCom=_ref134.VueTiCom,_ref137=function(){function t(){return(t=_asyncToGenerator(regeneratorRuntime.mark(function t(){var e,n,r,i,a,o,s,u,c,l,f,h,d,v,p,g,m,y,b,T,w,x,k,S,C,A,I,O,E,N,F,R,D=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=D.length>0&&void 0!==D[0]?D[0]:{},n=e.rs,r=void 0===n?"/gu/rs/":n,i=e.appName,a=void 0===i?"wn.manager":i,o=e.preloads,s=void 0===o?[]:o,u=e.debug,c=void 0!==u&&u,l=e.logging,f=void 0===l?{root:"warn"}:l,h=e.shortcute,d=void 0===h||h,v=e.viewport,p=void 0===v?{phoneMaxWidth:540,tabletMaxWidth:768,designWidth:1e3,max:100,min:80}:v,Ti.AddResourcePrefix(r),Vue.use(Ti.Vue.EventBubble),Vue.use(Ti.Vue.TiCom),Ti.SetForDev(c),Ti.SetLogLevel(f.root),_.forEach(f.names,function(t,e){return Ti.SetLogLevel(e,t)}),d&&Ti.Shortcut.startListening(),p&&Ti.Viewport.startListening(),Ti.SetAppName(a),Ti.Config.set({prefix:{app:"/a/load/",MyApp:"/a/load/".concat(a,"/"),theme:"".concat(r,"ti/theme/"),lib:"".concat(r,"ti/lib/"),deps:"".concat(r,"ti/deps/"),dist:"".concat(r,"ti/dist/"),mod:"".concat(r,"ti/mod/"),com:"".concat(r,"ti/com/"),i18n:"".concat(r,"ti/i18n/")},alias:{"^./":"@MyApp:","^@MyApp:?$":"@MyApp:_app.json","^@i18n:(.+)$":"@i18n:zh-cn/$1","/i18n/":"/i18n/zh-cn/","^(@[A-Za-z]+):i18n/(.+)$":"$1:i18n/zh-cn/$2"},suffix:{"^@theme:":".css","^@app:":"/_app.json","(^@mod:|[/:]mod/)":"/_mod.json","(^@com:|[/:]com/)":"/_com.json","(^@i18n:|[/:]i18n/)":".i18n.json"},lang:"zh-cn"}),_.isEmpty(s)){t.next=16;break}return g=[],_.forEach(s,function(t){g.push(Ti.Load(t))}),t.next=16,Promise.all(g);case 16:return t.t0=Ti.I18n,t.next=19,Ti.Load(["@i18n:_ti","@i18n:_wn","@i18n:_net","@i18n:web","@i18n:ti-datetime"]);case 19:return t.t1=t.sent,t.t0.put.call(t.t0,t.t1),t.next=23,Wn.Sys.exec("ti config -cqn",{appName:a,as:"json"});case 23:if(m=t.sent,_.isEmpty(m)||Ti.Config.update(m),!m.i18n){t.next=31;break}return t.t2=Ti.I18n,t.next=29,Ti.Load(m.i18n);case 29:t.t3=t.sent,t.t2.put.call(t.t2,t.t3);case 31:if(!m.css){t.next=51;break}y=[].concat(m.css),b=_createForOfIteratorHelper(y),t.prev=34,b.s();case 36:if((T=b.n()).done){t.next=43;break}return w=T.value,x=_.template(w)({theme:"${theme}"}),t.next=41,Ti.Load(x);case 41:t.next=36;break;case 43:t.next=48;break;case 45:t.prev=45,t.t4=t.catch(34),b.e(t.t4);case 48:return t.prev=48,b.f(),t.finish(48);case 51:return t.next=53,Ti.Load("@MyApp");case 53:if(k=t.sent,_.assign(k.data,m.gui),_.isEmpty(m.components)||Ti.Util.pushUniqValue(k,"components",m.components),_.isEmpty(m.deps)||Ti.Util.pushUniqValue(k,"deps",m.deps),_.isEmpty(m.preloads)){t.next=62;break}return S=[],_.forEach(m.preloads,function(t){S.push(Ti.Load(t))}),t.next=62,Promise.all(S);case 62:_.isEmpty(m.rsPrefixes)||(C=_.concat(m.rsPrefixes),Ti.AddResourcePrefix.apply(Ti,_toConsumableArray(C))),A=_createForOfIteratorHelper(_.keys(m.global)),t.prev=64,A.s();case 66:if((I=A.n()).done){t.next=75;break}return O=I.value,E=m.global[O],t.next=71,Ti.Load(E);case 71:N=t.sent,window[O]=N;case 73:t.next=66;break;case 75:t.next=80;break;case 77:t.prev=77,t.t5=t.catch(64),A.e(t.t5);case 80:return t.prev=80,A.f(),t.finish(80);case 83:return Wn.Dict.setup(m.dictionary),F=Ti.App(k),t.next=87,F.init();case 87:return Ti.Dom.watchAutoRootFontSize(p,function(t){var e=t.$root,n=t.mode,r=t.fontSize;e.style.fontSize=r+"px",e.setAttribute("as",n),Ti.App.eachInstance(function(t){t.commit("viewport/setMode",n)})}),F.commit("session/set",_app.session),Wn.Session.setup(_app.session),F.mountTo("#app"),Ti.App.pushInstance(F),R="~",_app.obj&&(R="id:"+_app.obj.id),t.next=96,F.dispatch("current/reload",R);case 96:return t.abrupt("return",F.get("obj"));case 97:case"end":return t.stop()}},t,null,[[34,45,48,51],[64,77,80,83]])}))).apply(this,arguments)}return{WalnutAppMain:function(){return t.apply(this,arguments)}}}(),WalnutAppMain=_ref137.WalnutAppMain,_ref140=function(){function t(){return(t=_asyncToGenerator(regeneratorRuntime.mark(function t(){var e,n,r,i,a,o,s,u,c,l,f,h,d,v,p,g,m,y,b,T,w,x,k,S,C,A,I,O,E,N,F=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=F.length>0&&void 0!==F[0]?F[0]:{},n=e.www_host,r=void 0===n?"localhost":n,i=e.www_port_suffix,a=void 0===i?":8080":i,o=e.rs,s=void 0===o?"/gu/rs/":o,u=e.siteRs,c=void 0===u?"/":u,l=e.lang,f=void 0===l?"zh-cn":l,h=e.appJson,d=e.siteId,v=e.domain,p=e.preloads,g=void 0===p?[]:p,m=e.debug,y=void 0!==m&&m,b=e.logging,T=void 0===b?{root:"warn"}:b,w=e.shortcute,x=void 0===w||w,k=e.viewport,S=void 0===k?{phoneMaxWidth:640,tabletMaxWidth:900,designWidth:1200,max:100,min:70}:k,Ti.AddResourcePrefix(s,c),Vue.use(Ti.Vue.EventBubble),Vue.use(Ti.Vue.TiCom),Ti.SetForDev(y),Ti.SetLogLevel(T.root),_.forEach(T.names,function(t,e){return Ti.SetLogLevel(e,t)}),x&&Ti.Shortcut.startListening(),S&&Ti.Viewport.startListening(),Ti.Config.set({prefix:{Site:"".concat(c),theme:"".concat(s,"ti/theme/"),lib:"".concat(s,"ti/lib/"),deps:"".concat(s,"ti/deps/"),dist:"".concat(s,"ti/dist/"),mod:"".concat(s,"ti/mod/"),com:"".concat(s,"ti/com/"),i18n:"".concat(s,"ti/i18n/")},alias:{"^./":"@Site:","^@Site:?$":"@Site:_app.json","^@i18n:(.+)$":"@i18n:".concat(f,"/$1"),"[:/]i18n/":"$&".concat(f,"/")},suffix:{"^@theme:":".css","^@app:":"/_app.json","(^@mod:|[/:]mod/)":"/_mod.json","(^@com:|[/:]com/)":"/_com.json","(^@i18n:|[/:]i18n/)":".i18n.json"},lang:f}),_.isEmpty(g)){t.next=15;break}return C=[],_.forEach(g,function(t){C.push(Ti.Load(t))}),t.next=15,Promise.all(C);case 15:return t.t0=Ti.I18n,t.next=18,Ti.Load(["@i18n:_ti","@i18n:_net","@i18n:web","@i18n:ti-datetime"]);case 18:if(t.t1=t.sent,t.t0.put.call(t.t0,t.t1),!h.css){t.next=40;break}A=_.concat(h.css),I=_createForOfIteratorHelper(A),t.prev=23,I.s();case 25:if((O=I.n()).done){t.next=32;break}if(!(E=O.value)){t.next=30;break}return t.next=30,Ti.Load(E);case 30:t.next=25;break;case 32:t.next=37;break;case 34:t.prev=34,t.t2=t.catch(23),I.e(t.t2);case 37:return t.prev=37,I.f(),t.finish(37);case 40:return t.next=42,Ti.App(h,function(t){return _.assign(t.store.state,{loading:!1,siteId:d,domain:v,rs:s,www_host:r,www_port_suffix:a}),t});case 42:return N=t.sent,t.next=45,N.init();case 45:return Ti.App.pushInstance(N),Ti.SetAppName(N.name()),N.commit("explainSiteState"),Ti.Dom.watchAutoRootFontSize(S,function(t){var e=t.$root,n=t.mode,r=t.fontSize;e.style.fontSize=r+"px",e.setAttribute("as",n),Ti.App.eachInstance(function(t){t.commit("viewport/setMode",n)})}),N.mountTo("#app"),t.next=52,N.dispatch("reload");case 52:return t.abrupt("return",N);case 53:case"end":return t.stop()}},t,null,[[23,34,37,40]])}))).apply(this,arguments)}return{WebAppMain:function(){return t.apply(this,arguments)}}}(),WebAppMain=_ref140.WebAppMain,LOAD_CACHE={},RS_PREFIXs=[],ENV={version:"2.2-20200627.185053",dev:!1,appName:null,session:{},log:{ROOT:0}},LOG_LEVELS={error:0,warn:1,info:2,debug:3,trace:4},G_FUNCS={},Ti={Alg:Alg,Be:Be,S:S,Util:Util,App:App,Err:Err,Config:Config,Dom:Dom,Css:Css,Load:Load,Http:Http,Icons:Icons,I18n:I18n,Shortcut:Shortcut,Fuse:Fuse,Random:Random,Storage:Storage,Types:Types,Viewport:Viewport,WWW:WWW,GPS:GPS,Validate:Validate,DateTime:DateTime,Num:Num,Trees:Trees,Bank:Bank,Mapping:Mapping,Dict:Dict,DictFactory:DictFactory,Rects:Rects,Rect:Rect,Websocket:TiWebsocket,Preload:Preload,MatchCache:MatchCache,AddResourcePrefix:AddResourcePrefix,RS_PREFIXs:RS_PREFIXs,LOAD_CACHE:LOAD_CACHE,WalnutAppMain:WalnutAppMain,WebAppMain:WebAppMain,Vue:{EventBubble:VueEventBubble,TiCom:VueTiCom},Alert:Alert,Confirm:Confirm,Prompt:Prompt,Toast:Toast,Captcha:Captcha,Env:function(t,e){return Ti.Util.geset(ENV,t,e)},Version:function(){return Ti.Env("version")},SetForDev:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Ti.Env({dev:t})},IsForDev:function(){return Ti.Env("dev")},SetAppName:function(t){Ti.Env({appName:t})},GetAppName:function(){return Ti.Env("appName")},SetLogLevel:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ROOT";_.isString(t)&&(t=LOG_LEVELS[t]||0),ENV.log[e]=t},IsError:function(t){return _IS_LOG(t,LOG_LEVELS.error)},IsWarn:function(t){return _IS_LOG(t,LOG_LEVELS.warn)},IsInfo:function(t){return _IS_LOG(t,LOG_LEVELS.info)},IsDebug:function(t){return _IS_LOG(t,LOG_LEVELS.debug)},IsTrace:function(t){return _IS_LOG(t,LOG_LEVELS.trace)},Invoke:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;if(_.isFunction(t))return n=n||this,t.apply(n,e)},InvokeBy:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0;if(t)return Ti.Invoke(t[e],n,r||t)},DoInvoke:function(t){var e=arguments,n=this;return _asyncToGenerator(regeneratorRuntime.mark(function r(){var i,a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=e.length>1&&void 0!==e[1]?e[1]:[],a=e.length>2?e[2]:void 0,!_.isFunction(t)){r.next=7;break}return a=a||n,r.next=6,t.apply(a,i);case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}},r)}))()},DoInvokeBy:function(){var t=arguments;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var n,r,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.length>0&&void 0!==t[0]?t[0]:{},r=t.length>1?t[1]:void 0,i=t.length>2&&void 0!==t[2]?t[2]:[],a=t.length>3?t[3]:void 0,!n){e.next=8;break}return e.next=7,Ti.DoInvoke(n[r],i,a||n);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}))()},AddGlobalFuncs:function(t){_.assign(G_FUNCS,t)},GlobalFuncs:function(){return _.assign({},Ti.Types,G_FUNCS)}};exports.Ti=Ti;var _default=Ti;exports.default=_default,window&&(window.Ti=Ti);