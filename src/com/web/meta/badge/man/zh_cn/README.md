---
title: 数据徽章:WebMetaBadge
author: zozohtnt@gmail.com
---

# 什么是数据徽章

如果你随便有个什么数据，可能是对象，字符串，甚至数字，你想显示成:

```
------------------------------------
           
           +---------+
           |         |
           |         |
           |         |
           +---------+

           Title Text
         description ...

           > Link1
           > Link2

------------------------------------
```

则非常适合采用`数据徽章`。 你可以在控件初始化之前，通过自定义函数
随意修改数据。并且具有较高的定制化能力。


# 属性:数据

------------------------------------------------------
## `valueType`值类型

 类型         | 格式
--------------|-----------------
`obj`         | `{lat, lng}`
`obj-list`    | `[{lat, lng}..]`
`pair`        | `[lat, lng]`
`pair-list`   | `[[lat, lng]..]`
`geojson`     | `{type:"Point"...}`

-----------------------------------------------------
## `valueCoords`值坐标类型

- `WGS84` : 标准 GPS 坐标
- `GCJ02` : 所谓的 *"火星"* 坐标系
- `BD09`  : 百度地图专用坐标系

-----------------------------------------------------
## `latlngPrecise`值显示精确度

显示经纬度的精确度，默认为 `5`，表示保留小数点后面几位。
经纬度数值会根据这个精度四舍五入，譬如,  `39.90807`

------------------------------------------------------
## `displayType`显示类型

 类型         | 说明           | `valueType`         | 补充
--------------|---------------|---------------------|------
`Point`       | 显示单或多点   | `(obj|pair)(-list)?`| *无*
`Polyline`    | 显示连线       | `(obj|pair)-list`   | *无*
`Polygon`     | 显示多边形     | `(obj|pair)-list`   | *无*
`Rectangle`   | 显示矩形       | `(obj|pair)-list`   | `[SW,NE]`
`Circle`      | 显示圆形       | `(obj|pair)`        | *无*
`GeoJson`     | 复杂显示       | `geojson`           | *无*
`Cluster`     | 自动聚合点     | `(obj|pair)-list`   | *无*

------------------------------------------------------
## `circleRadius`显示类型

当`displayType="Circle"`，本值表示圆形的半径，单位**米**。
默认为`10`*米*

# 属性:行为

------------------------------------------------------
## `minZoom`最小缩放

`0-20` 的值

------------------------------------------------------
## `maxZoom`最大缩放

`0-20` 的值

------------------------------------------------------
## `zoom`当前缩放

`0-20` 的值

------------------------------------------------------
## `editPoint`点编辑行为

只有在`valueType`为`obj|pair`模式下才有效

- `none` : 【默认】禁止点编辑
- `drag` : 拖拽点定位
- `pin`  : 移动地图，用地图中心点定位

当`pin`模式下，用中心点定位，通常会在中心点显示一个大头针图标


# 属性:外观

------------------------------------------------------
## `pinIcon`大头针图标

只有在`editPoint`为`pin`模式下才有效

可以自定义大头针图标

------------------------------------------------------
## `imageIconBase`图标基础路径

所有自定义图标，只要不是绝对路径，会自动拼合上这个基础路径。
默认为 `/gu/rs/ti/icons/`。

也就是说，如果你的图标，譬如 `pinIcon="out/abc.png"`
那么，实际上会生成这样的的代码:

```html
<img src="/gu/rs/ti/icons/out/abc.png">
```

# 属性:尺寸


# 使用场景示例

------------------------------------------------------
## 编辑位置

**拖动中心点方式**

```js
{
  value : {lat, lng} | [lat, lng],
  valueType : "obj|pair",
  displayType : "Point",
  editPoint : "pin"
}
```

**拖动图标方式**

```js
{
  value : {lat, lng} | [lat, lng],
  valueType : "obj|pair",
  editPoint : "drag"
}
```

------------------------------------------------------
## 显示单点或多点

```js
{
  value : [{lat, lng}] | [[lat, lng]],
  valueType : "obj-list|pair-list",
  displayType : "Point"
}
```

------------------------------------------------------
## 显示轨迹/多边形

```js
{
  value : [{lat, lng}] | [[lat, lng]],
  valueType : "obj-list|pair-list",
  displayType : "Polyline|Polygon"
}
```

------------------------------------------------------
## 编辑轨迹/多边形

------------------------------------------------------
## 显示路线及节点

```js
{
  value : [{lat, lng}] | [[lat, lng]],
  valueType : "obj-list|pair-list",
  displayType : "Route"
}
```