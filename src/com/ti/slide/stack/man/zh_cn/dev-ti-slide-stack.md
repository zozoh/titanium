---
title: 滑动堆叠:TiSlideStack
author: zozohtnt@gmail.com
screen:
- desktop
---

# 滑动堆叠概述

本控件用来设置指定有限数字空间内的一组或者多组数值。

- `单个数值`: 行为类似`滑动条`
- `多个数值`: 将自动调整相邻数值，以便让其充满容量上限

```bash
#
# 单个数值
#
+---------------------------------------------+
|========= 120 =========|                     |
+---------------------------------------------+
#
# 多个数值
#
+---------------------------------------------+
|===== 100 =========|=== 42 ===|===== 68 =====|
+---------------------------------------------+
```

本控件可以指定显示模式为横向或者纵向

-------------------------------------------------------------
# 属性列表

## 数据属性

Name        | Description
------------| ----------------------------------
`value`     | 控件输入值
`valueType` | 输出的值的类型，默认根据输入值类型来决定
`precision` | 值的精度，`0` 表示四舍五入
`stacks`    | 堆叠配置
`capacity`  | 容量上限


## 行为属性

Name              | Description
----------------- | --------------------------
`notifyFrequency` | 通知频率

## 外观属性

Name          | Description
------------- | --------------------------
`mode`        | 显示模式 `V|H`
`format`      | 数值显示方式

## 尺寸属性

*~ 无 ~*

-------------------------------------------------------------
# 属性详情

## `value`输入值

值可接受下面几种类型:

- `数字`，如果配置了多个堆叠，则其余堆叠平均分配余下的数值空间
- `数组`，其中每个元素为对应堆叠的数字，剩余的空间分配
- `对象`，根据堆叠的名称，分配值

## `valueType`输出值类型

有下面几种类型:

- `auto` : 自动根据堆叠的配置得出
- `Number` : 数字
- `Array` : 数组
- `Object` : 数组

## `precision`值的精度

值的精度，如果为`0`表示四舍五入的整数，默认为 `2`，表示保留小数点后两位并四舍五入。

## `stacks`堆叠配置

堆叠的具体设置:

```js
stacks : [
  {
    title : "xxx",      // 堆叠项显示名
    name: "xyz",        // 堆栈名称，用作对象输出时的键，默认为 "V${index}"
    min: 0,             // 【必】最小值
    max: 100,           // 【必】最大值
    dft: 50,            // 默认值，默认为 max
    color: "#FFF",      // 堆叠条的文字颜色，默认为 #FFF 白色
    background: "#F00"  // 堆叠条的背景样式，默认从色表中循环读取
  }
]
```

## `capacity`容量上限

如果指定了这个容量上限，那么每个堆叠项的修改，将会影响相邻的堆叠项，
以便使得所有堆叠项之和与容量相等。特别适合做磁盘空间规划之类的界面设置。

如果不指定这个值，那么所有的堆叠将不互相关联。

控件在其整体的显示区域，计算每个堆叠的显示比例时，需要有一个逻辑上的最大值 `logicMaxVal`。
这个值，在指定了`capacity`时，就是`capacity`，否则将自动对所有堆叠配置项的`max`求和。

## `notifyFrequency`通知频率

通知频率，单位毫秒。 默认 `0` 表示只有在推拽结束后才会通知

## `mode`显示模式

- `H` : 水平堆叠
- `V` : 垂直堆叠

## `format`值显示方式

通过字符串模板或者自定义函数指定堆叠项上的值显示方式

