<div class="ti-table"
  :class="topClass"
  @click="onBlur">
  <!--
    Header
  -->
  <div class="table-con as-head">
    <div class="table-head as-table" ref="head"
      :style="tableStyle">
      <ul class="table-row in-head">
        <li v-if="checkable" col-fixed
          class="row-checker"
          :style="cellStyle(-1)"
          @click.stop="onClickHeadRowChecker">
          <ti-icon :value="headCheckerIcon"/>
        </li>
        <li v-for="(fld, index) in fields"
          :style="cellStyle(index, fld)">
          <span>{{fld.title || fld.key}}</span>
        </li>
      </ul>
    </div>
  </div>
  <!--
    Body
  -->
  <div class="table-con as-body">
    <div 
      v-if="isEmpty"
      class="ti-blank is-big">
      <ti-icon value="zmdi-alert-circle-o"/>
      <span>{{'empty-data'|i18n}}</span>
    </div>
    <div ref="body"
      class="table-body as-table" 
      :style="tableStyle">
      <ul 
        v-for="(it, index) in tableData" 
        :key="it.key"
        class="table-row in-body"
        :class="bodyRowClass(it.raw)"
        @click.stop="onSelected(it.raw, index, $event)"
        @dblclick.stop="onOpen(it.raw, index)">
        <li col-fixed 
          v-if="checkable" 
          class="row-checker"
          :style="cellStyle(-1)"
          @click.stop="onToggle(it.raw)">
          <ti-icon :value="bodyRowCheckerIcon(it.raw)"/>
        </li>
        <ti-table-cell 
          v-for="(cell, cellIndex) in it.cells"
          :key="cell.title"
          :style="cellStyle(cell.index, cell.fld)"
          v-bind="cell"/>
      </ul>
    </div>
  </div>
</div>