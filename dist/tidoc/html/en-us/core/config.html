<html>
<head>
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>config</title>
</head>
<body>
<article>
<hr>
<p>title : Ti.Config<br>author: zozoh(zozohtnt@gmail.com)<br>tags:<br>- core<br>- API<br>- namespace
</p>
<hr>
<h1>Global Configuration
</h1>
<ul>
<li><a href="#ti.config.set">set
</a> : Set new <a href="#GCO">GCO
</a> to global.
</li>
<li><a href="#ti.config.update">update
</a> : Update new <a href="#GCO">GCO
</a> to global.
</li>
<li><a href="#ti.config.get">get
</a> : Get one configuration fields value (same refer).
</li>
<li><a href="#ti.config.url">url
</a> : eval the full resource path by <a href="#GCO.prefix">prefix
</a>
</li>
</ul>
<hr>
<h1><code>GCO</code>
</h1>
<p>Global Configuration Object (<code>GCO</code>) is the place that Titanium store its configuration.
</p>
<p>Here is the <code>GCO</code> looks like:
</p>
<pre code-type="js">{
  /*
  @see [prefix]
  */
  &quot;prefix&quot; : {
    &quot;app&quot;   : &quot;/ti/app/&quot;,
    &quot;ui&quot;    : &quot;/ti/ui/&quot;,
    &quot;lib&quot;   : &quot;/ti/lib/&quot;,
    &quot;theme&quot; : &quot;/ti/theme/&quot;
  }
  /*
  @see [alias]
  */
  &quot;alias&quot; {
    &quot;@lib:jquery&quot; : &quot;@lib:jquery/2.3.1/jquery_min.js&quot;
    &quot;@lib:lodash&quot; : &quot;@lib:lodash/4.1.5/lodash_min.js&quot;
  }
}
</pre>
<h2><code>GCO.prefix</code>
</h2>
<p>This section defined all prefix of resource base locations. For example:
</p>
<pre code-type="js">//------------------------------------------
// Define the prefix
Ti.Config.set({
  prefix : {
    &quot;foo&quot; : &quot;/my/foo&quot;,
    &quot;bar&quot; : &quot;/my/bar/&quot;
  }
})
///------------------------------------------
Ti.Config.url('@foo:abc')
// -&gt; /my/fooabc
///------------------------------------------
Ti.Config.url('@bar:xyz')
// -&gt; /my/bar/xyz
</pre>
<h2><code>GCO.alias</code>
</h2>
<p><em>TODO: NEED DOC</em>
</p>
<hr>
<h1><code>Ti.Config.set</code>
</h1>
<pre code-type="js">set({prefix,alias})
</pre>
<p>Same like <a href="#Ti.Config.update">Ti.Config.update
</a>, but there is a little differance, it will overwrite all setting of the <a href="#GCO">GCO
</a> by params passed on.
</p>
<h2><code>set@params</code>
</h2>
<ul>
<li><code>prefix{Object}</code> : Field <a href="#GCO.prefix">prefix
</a> of <a href="#GCO">GCO
</a>
</li>
<li><code>alias{Object}</code> : Field <a href="#GCO.alias">alias
</a> of <a href="#GCO">GCO
</a>
</li>
</ul>
<h2><code>set@return</code>
</h2>
<p><em>undefined</em>
</p>
<h2><code>set@usage</code>
</h2>
<pre code-type="js">/* If Global Object is:
{
  prefix : {
    &quot;ui&quot;    : &quot;/api/ui&quot;,
    &quot;lib&quot;   : &quot;/ti/lib/&quot;
  }
}
*/
Ti.Config.set({
  prefix : {
    &quot;ui&quot;    : &quot;/ti/ui/&quot;,
  }
})
/* Global Object will change to:
{
  prefix : {
    &quot;ui&quot;    : &quot;/ti/ui/&quot;
  }
}
*/
</pre>
<hr>
<h1><code>Ti.Config.update</code>
</h1>
<pre code-type="js">update({prefix, alias})
</pre>
<p>Same like <a href="#Ti.Config.set">Ti.Config.set
</a>, but there is a little differance, it will merge to the setting of the <a href="#GCO">GCO
</a> by params passed on.
</p>
<h2><code>update@params</code>
</h2>
<ul>
<li><code>prefix{object}</code> : Field <a href="#GCO.prefix">prefix
</a> of <a href="#GCO">GCO
</a>
</li>
<li><code>alias{Object}</code> : Field <a href="#GCO.alias">alias
</a> of <a href="#GCO">GCO
</a>
</li>
</ul>
<h2><code>update@return</code>
</h2>
<p><em>undefined</em>
</p>
<h2><code>update@usage</code>
</h2>
<pre code-type="js">/* If Global Object is:
{
  prefix : {
    &quot;ui&quot;    : &quot;/api/ui&quot;,
    &quot;lib&quot;   : &quot;/ti/lib/&quot;
  }
}
*/
Ti.Config.update({
  prefix : {
    &quot;ui&quot;    : &quot;js:/ti/ui/&quot;,
  }
})
/* Global Object will change to:
{
  prefix : {
    &quot;ui&quot;    : &quot;/ti/ui/&quot;,
    &quot;lib&quot;   : &quot;/ti/lib/&quot;
  }
}
*/
</pre>
<hr>
<h1><code>Ti.Config.get</code>
</h1>
<pre code-type="js">get(key=null): Any
</pre>
<p>Get one field value from <a href="#GCO">GCO
</a>, or entire <a href="#GCO">GCO
</a> if <code>null</code> has been passsed. The return value should be the same refer with the <a href="#GCO">GCO
</a> instance, which mean, if you mutate the value, it will effect the <a href="#GCO">GCO
</a>, because you are mutate the same copy of it.
</p>
<h2><code>get@params</code>
</h2>
<ul>
<li><code>key{string}</code> : The field key of which you want to get. Whole <a href="#GCO">GCO
</a> will be returned when you passed <code>null</code>. It supported the dotted seperated path string also.
</li>
</ul>
<h2><code>get@return</code>
</h2>
<p><code>Any Object</code> which is the same copy of <a href="#GCO">GCO
</a>.
</p>
<h2><code>get@usage</code>
</h2>
<pre code-type="js">const prefix = Ti.Config.get(&quot;prefix&quot;)
// =&gt; {&quot;ui&quot;:&quot;/ti/ui/&quot;, &quot;lib&quot;:&quot;/ti/lib/&quot;}

const uiPrefix = Ti.Config.get(&quot;prefix.ui&quot;)
// =&gt; &quot;/ti/ui&quot;
</pre>
<hr>
<h1><code>Ti.Config.url</code>
</h1>
<pre code-type="js">url(path=&quot;&quot;): String
</pre>
<p>Eval resource full path by <a href="#GCO.prefix">prefix
</a> and <a href="#GCO.alias">alias
</a>. Actually, it will apply the  <a href="#GCO.alias">alias
</a> at first, then replace the <a href="#GCO.prefix">prefix
</a> part.
</p>
<p>The prefix of the path (<code>&quot;@app&quot;</code> or <code>&quot;@com&quot;</code> etc.) should be defined in <a href="#GCO.prefix">prefix
</a> field.
</p>
<p>If the input path is not formed like <code>@xxx:path</code>, it will be returned directly. If the prefix (<code>&quot;@xxx&quot;</code>) is not defined in <a href="#GCO.prefix">prefix
</a>, an error will be raised.
</p>
<h2><code>url@params</code>
</h2>
<ul>
<li><code>path{string}</code> : reource path formed like <code>&quot;@app:foo.bar&quot;</code>
</li>
</ul>
<h2><code>url@return</code>
</h2>
<p><code>String</code> as the full path of given resource path
</p>
<h2><code>url@thrown</code>
</h2>
<ul>
<li><code>{errCode:&quot;e.ti.config.prefix_without_defined&quot;, data:[prefix]}</code>
</li>
</ul>
<h2><code>url@usage</code>
</h2>
<pre code-type="js">//prefix : `{&quot;bar&quot; : &quot;/my/lib/&quot;}`
Ti.Config.url('@bar:xyz')
// -&gt; /my/lib/xyz
</pre>

</article>
</body>
</html>
