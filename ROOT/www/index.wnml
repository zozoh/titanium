<!DOCTYPE html>
<html lang="en">
<!--
  Load data
-->
<script class="wn-datasource" name="app" type="json">
cat "${CURRENT_DIR}/_app.json" 
</script>
<!--
  Page Head
-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>${app.title}</title>
  <!--link rel="stylesheet" type="text/css"
        href="${rs}/core/css/font-md/css/material-design-iconic-font.css"-->
  <script src="${rs}/ti/deps/crypto-js.js"></script>
  <script src="${rs}/ti/deps/jquery.js"></script>
  <script src="${rs}/ti/deps/lodash.min.js"></script>
  <script src="${rs}/ti/deps/vue.js"></script>
  <script src="${rs}/ti/deps/vuex.js"></script>

  <script src="${PAGE_BASE}/js/index.js"></script>

  <link rel="stylesheet" href="${rs}/ti/theme/${app.theme}.css">
  <link rel="stylesheet" href="${rs}/ti/deps/md/iconfont/material-icons.css">
  <link rel="stylesheet" href="${rs}/ti/deps/zmdi/css/material-design-iconic-font.css">
  <link rel="stylesheet" href="${rs}/ti/deps/fontawesome/5.7.2-web/css/all.css">
  <link rel="stylesheet" href="${rs}/ti/deps/iconmonstr/css/iconmonstr-iconic-font.css">
</head>
<!--
  Page Body
-->
<body>
<div id="app" class="app-loading">
  <i class="zmdi zmdi-settings zmdi-hc-spin"></i>
</div>
<!--set key="cc">API.getContextJsonString(false, false)</set>
<pre>${cc}</pre-->
<!--
  Main Script
-->
<script type="module">
//---------------------------------------
import {Ti} from "${rs}/ti/core/ti.mjs"
//---------------------------------------
let appJson = ${app(json:n)};
//---------------------------------------
// Load Config
let tiConf = {
  prefix : {
    "Site"  : "${PAGE_BASE}",
    "theme" : "${rs}/ti/theme/",
    "lib"   : "${rs}/ti/lib/",
    "deps"  : "${rs}/ti/deps/",
    "mod"   : "${rs}/ti/mod/",
    "com"   : "${rs}/ti/com/",
    "i18n"  : "${rs}/ti/i18n/"
  },
  alias : {
    "^\./"         : "@Site:",
    "^@Site:?$"    : "@Site:_app.json",
    "^@i18n:(.+)$" : "@i18n:zh-cn/$1",
    "[:\/]i18n\/"     : "$&zh-cn/"
  },
  suffix : {
    "^@theme:"              : ".css",
    "^@app:"                : "/_app.json",
    "(^@mod:|[\/:]mod\/)"   : "/_mod.json",
    "(^@com:|[\/:]com\/)"   : "/_com.json",
    "(^@i18n:|[\/:]i18n\/)" : ".i18n.json"
  },
  lang : "zh-cn"
}
//---------------------------------------
let siteId = "${WWW.id}"
//---------------------------------------
// Init Page
__page_init__({Ti, appJson, tiConf, siteId})
//---------------------------------------
</script>
</body>
</html>